var msos={default_locale:document.getElementsByTagName("html")[0].getAttribute("lang")||"en",default_translate:"fr",default_country:{en:"US",fr:"FR",de:"DE"},default_keyboard_locales:["en","fr","de","es"],base_site_url:"//"+document.domain,base_script_url:"",base_config_url:"",base_images_url:"",body:null,head:null,html:null,docl:null,ajax_loading_kbps:{},deferred_css:[],deferred_scripts:[],dom:{},form_inputs:null,form_validate:null,html_inputs:["text","file","password","textarea","radio","checkbox","select"],html5_attributes:["autocomplete","autofocus","list","placeholder","max","min","maxlength","multiple","pattern","required","step"],html5_inputs:["search","tel","url","email","datetime","date","month","week","time","datetime-local","number","range","color"],i18n_order:[],i18n_queue:0,log_methods:["error","warn","info","debug","time","timeEnd","log"],onload_func_pre:[],onload_func_start:[],onload_functions:[],onload_func_done:[],onload_func_post:[],ondisplay_size_change:[],onorientationchange_functions:[],onresize_functions:[],record_times:{},registered_files:{js:{},css:{},ico:{},ajax:{}},registered_folders:{msos:"",jquery:"",apps:""},registered_modules:{msos:!1},registered_templates:{},registered_tools:{},require_attempts:0,require_deferred:0,require_queue:0};msos.config={console:!1,clear_cookies:!1,clear_storage:!1,debug:!1,debug_css:!1,debug_output:!1,debug_script:!1,debug_disable:!1,mobile:!1,verbose:!1,visualevent:!1,run_ads:!1,run_size:!1,run_analytics:!1,run_onerror:!1,run_overflowscroll:!1,run_social:!1,run_translate:!1,run_amazon_prev:!1,browser:{advanced:!1,current:!1,direction:"",editable:!1,mobile:!1,touch:!1},cache:!0,color:{bk:"black",wh:"white",dg:"darkgrey",lg:"lightgrey",sl:"salmon",lb:"lightblue",rd:"red",be:"beige"},connection:{type:0,bandwidth:10,metered:!1},cookie:{site_pref:{name:"msos_site_pref",value:"",set:!1,params:{expires:30}},site_i18n:{name:"msos_site_i18n",value:"",set:!1,params:{expires:30}},site_cart:{name:"msos_site_cart",value:"",set:!1,params:{expires:1}},site_cltl:{name:"msos_site_cltl",value:"",set:!1,params:{expires:15}},site_bdwd:{name:"msos_site_bdwd",value:"",set:!1,params:{expires:1}},site_tabs:{name:"msos_site_tab_",params:{expires:1}},site_sdmn:{name:"msos_site_sdm_",params:{expires:1}},site_popu:{name:"msos_site_pop_",params:{expires:1}}},debugging:["console","debug","debug_script","debug_css","debug_output","mobile","verbose","visualevent","run_ads","run_size","run_analytics","run_onerror","run_overflowscroll","run_social","run_translate","run_amazon_prev","use_date","use_color","use_number","use_range","clear_cookies","clear_storage"],doctype:window.document.getElementsByTagName("html")[0].getAttribute("xmlns")?"xhtml5":"html5",file:{file:"object"==typeof window.File?!0:!1,reader:"function"==typeof window.FileReader?!0:!1,list:"object"==typeof window.FileList?!0:!1,blob:"object"==typeof window.Blob?!0:!1},force_shim:{inputs:{date:!0,color:!0,number:!0,range:!0,time:!1,month:!1,week:!1},media:{video:!1,audio:!1}},google:{no_translate:{},hide_tooltip:{}},hellojs_redirect:"/mobilesiteos/hello/redirect.html",i18n:{select_trans_msos:{},select_kbrds_msos:{}},intl:{select_culture:{},select_calendar:{}},locale:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),culture:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),calendar:"standard",json:"object"==typeof JSON&&"function"==typeof JSON.stringify&&"function"==typeof JSON.parse?!0:!1,jquery_ui_theme:"mobilesiteos",jquery_ui_avail:{base:"Base (generic)",lightness:"UI-Lightness",mobilesiteos:"MobileSiteOS"},keyboard:"",keyboard_locales:[].concat(msos.default_keyboard_locales),gesture:function(){"use strict";var e=document.createElement("div");return e.setAttribute("ongesturestart","return;"),"function"==typeof e.ongesturestart?!0:!1}(),onerror_uri:"http://"+window.location.hostname+"/onerror.html",orientation:"number"==typeof window.orientation?!0:!1,orientation_change:"onorientationchange"in window?!0:!1,page_uri:window.location.href,pixel_ratio:window.devicePixelRatio||1,popups_blocked:!1,query:{},script_onerror:function(){"use strict";var e=document.createElement("script");return e.type="text/javascript",e.setAttribute("onerror","return;"),"function"==typeof e.onerror?!0:"onerror"in e?!0:!1}(),script_preload:{available:!1,async:!1,defer:!1,explicit:!1,ordered:!1,xhr_cache:!1},scrolltop:void 0!==window.pageXOffset||void 0!==document.documentElement.scrollTop?!0:!1,size:"phone",size_folder:"css",size_array:[],size_wide:{desktop:1080,large:960,medium:760,small:640,tablet:480,phone:320},social:{},storage:{sessionstorage:{site_bdwd:{name:"msos_site_bdwd",value:"",set:!1}},localstorage:{site_form:{name:"msos_site_form",value:"",set:!1}}},touch:{ontouchstart:"ontouchstart"in window?!0:!1,ontouchend:"ontouchend"in document?!0:!1,object:"object"==typeof window.Touch?!0:!1,event:void 0!==window.TouchEvent?!0:!1,create:"createTouch"in document?!0:!1,doc_touch:"DocumentTouch"in window&&document instanceof DocumentTouch?!0:!1},view_orientation:{layout:"",direction:"",method:"",numeric:0},view_port:{height:0,width:0,delta_width:0,delta_heigth:0}},function(e,o,s){"use strict";e[o]=s()}(msos,"verge",function(){"use strict";function e(e,o){var s={};return o=+o||0,s.right=e.right+o,s.left=e.left-o,s.bottom=e.bottom+o,s.top=e.top-o,s.width=s.right-s.left,s.height=s.bottom-s.top,s}var o={},s=void 0!==window&&window,t=void 0!==document&&document,r=t&&t.documentElement,n=s.matchMedia||s.msMatchMedia,i=n?function(e){return!!n.call(s,e).matches}:function(){return!1};return o.viewportW=function(){var e=r.clientWidth,o=s.innerWidth;return o>e?o:e},o.viewportH=function(){var e=r.clientHeight,o=s.innerHeight;return o>e?o:e},o.mq=i,o.matchMedia=n?function(){return n.apply(s,arguments)}:function(){return{}},o.viewport=function(){return{width:o.viewportW(),height:o.viewportH()}},o.scrollX=function(){return s.pageXOffset||r.scrollLeft},o.scrollY=function(){return s.pageYOffset||r.scrollTop},o.rectangle=function(o,s){return o=o&&!o.nodeType?o[0]:o,o&&1===o.nodeType?e(o.getBoundingClientRect(),s):!1},o.aspect=function(e){e=void 0===e?o.viewport():1===e.nodeType?o.rectangle(e):e;var s=e.height,t=e.width;return s="function"==typeof s?s.call(e):s,t="function"==typeof t?t.call(e):t,t/s},o.inX=function(e,s){var t=o.rectangle(e,s);return!!t&&t.right>=0&&t.left<=o.viewportW()},o.inY=function(e,s){var t=o.rectangle(e,s);return!!t&&t.bottom>=0&&t.top<=o.viewportH()},o.inViewport=function(e,s){var t=o.rectangle(e,s);return!!t&&t.bottom>=0&&t.right>=0&&t.top<=o.viewportH()&&t.left<=o.viewportW()},o}),function(e){function o(e,o){for(var s=decodeURI(e),t=g[o?"strict":"loose"].exec(s),r={attr:{},param:{},seg:{}},i=14;i--;)r.attr[m[i]]=t[i]||"";return r.param.query=n(r.attr.query),r.param.fragment=n(r.attr.fragment),r.seg.path=r.attr.path.replace(/^\/+|\/+$/g,"").split("/"),r.seg.fragment=r.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),r.attr.base=r.attr.host?(r.attr.protocol?r.attr.protocol+"://"+r.attr.host:r.attr.host)+(r.attr.port?":"+r.attr.port:""):"",r}function s(e,o){if(0===e[o].length)return e[o]={};var s={};for(var t in e[o])s[t]=e[o][t];return e[o]=s,s}function t(e,o,r,n){var i=e.shift();if(i){var a=o[r]=o[r]||[];"]"==i?u(a)?""!==n&&a.push(n):"object"==typeof a?a[d(a).length]=n:a=o[r]=[o[r],n]:~i.indexOf("]")?(i=i.substr(0,i.length-1),!_.test(i)&&u(a)&&(a=s(o,r)),t(e,a,i,n)):(!_.test(i)&&u(a)&&(a=s(o,r)),t(e,a,i,n))}else u(o[r])?o[r].push(n):"object"==typeof o[r]?o[r]=n:"undefined"==typeof o[r]?o[r]=n:o[r]=[o[r],n]}function r(e,o,s){if(~o.indexOf("]")){var r=o.split("[");t(r,e,"base",s)}else{if(!_.test(o)&&u(e.base)){var n={};for(var a in e.base)n[a]=e.base[a];e.base=n}""!==o&&i(e.base,o,s)}return e}function n(e){return c(String(e).split(/&|;/),function(e,o){try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(s){}var t=o.indexOf("="),n=a(o),i=o.substr(0,n||t),c=o.substr(n||t,o.length);return c=c.substr(c.indexOf("=")+1,c.length),""===i&&(i=o,c=""),r(e,i,c)},{base:{}}).base}function i(e,o,s){var t=e[o];"undefined"==typeof t?e[o]=s:u(t)?t.push(s):e[o]=[t,s]}function a(e){for(var o,s,t=e.length,r=0;t>r;++r)if(s=e[r],"]"==s&&(o=!1),"["==s&&(o=!0),"="==s&&!o)return r}function c(e,o){for(var s=0,t=e.length>>0,r=arguments[2];t>s;)s in e&&(r=o.call(void 0,r,e[s],s,e)),++s;return r}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){var o=[];for(var s in e)e.hasOwnProperty(s)&&o.push(s);return o}function l(e,s){return 1===arguments.length&&e===!0&&(s=!0,e=void 0),s=s||!1,e=e||window.location.toString(),{data:o(e,s),attr:function(e){return e=f[e]||e,"undefined"!=typeof e?this.data.attr[e]:this.data.attr},param:function(e){return"undefined"!=typeof e?this.data.param.query[e]:this.data.param.query},fparam:function(e){return"undefined"!=typeof e?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return"undefined"==typeof e?this.data.seg.path:(e=0>e?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return"undefined"==typeof e?this.data.seg.fragment:(e=0>e?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var m=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],f={anchor:"fragment"},g={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},_=/^[0-9]+$/;e.parse_string=n,e.purl=l}(msos),msos.parse_query=function(){"use strict";var e=msos.purl(),o="",s="",t=e.param();for(o in t)t[o]=t[o].replace(/[^0-9a-zA-Z_]/g,"_"),"true"===t[o]&&(t[o]=!0),"false"===t[o]&&(t[o]=!1);for(s in msos.config)(t[s]||t[s]===!1)&&(msos.config[s]=t[s]);return msos.config.verbose&&(msos.config.debug=!0),t},msos.config.query=msos.parse_query(),Object.keys(msos.config.size_wide).map(function(e){return[e,msos.config.size_wide[e]]}).sort(function(e,o){return e[1]<o[1]?-1:e[1]>o[1]?1:0}).forEach(function(e){msos.config.size_array.push(e[0])}),msos.console=function(){"use strict";function e(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}for(var o={queue:[]},s=window.console,t=msos.log_methods.length-1,r=Array.prototype.slice;t>=0;)!function(t){o[t]=function(){var n=msos.config,i=n.query.debug_filter||"",a=0;if("error"===t||"warn"===t||n.debug){var c=r.apply(arguments),u=c[0]?c[0].replace(/\W/g,"_"):"missing_args",d=s[t]||s.log,l=[],m=[];if((!("debug"===t&&n.verbose&&i&&/^[0-9a-zA-Z.]+$/.test(i))||(i=new RegExp("^"+i.replace(".",".")),u.match(i)))&&(("time"===t||"timeEnd"===t)&&(msos.record_times[u+"_"+t]=(new Date).getTime()),n.console&&(l=[t].concat(c),("time"===t||"timeEnd"===t)&&l.push(msos.record_times[u+"_"+t]),o.queue.push(l)),s))if(d.apply){for(a=0;a<c.length;a+=1)m.push(e(c[a]));d.apply(s,m)}else{var f=c.join(" ");d(f)}}}}(msos.log_methods[t]),t-=1;return o}(),msos.console.time("base"),msos.console.info("msos/base -> start."),msos.var_is_null=function(e){"use strict";return void 0===e?!0:null===e?!0:!1},msos.var_is_empty=function(e){"use strict";return msos.var_is_null(e)?!0:""===e?!0:!1},msos.do_nothing=function(e){"use strict";e.preventDefault(),e.stopPropagation()},msos.do_abs_nothing=function(e){"use strict";e.preventDefault(),e.stopImmediatePropagation()},msos.new_time=function(){"use strict";return(new Date).getTime()},msos.set_version=function(e,o,s){"use strict";var t=this;return t={major:e,minor:o,patch:s,toString:function(){return"v"+t.major+"."+t.minor+"."+t.patch}}},msos.gen_namespace=function(e){"use strict";var o=window,s=0;for(e=e.split("."),s=0;s<e.length;s+=1)o=o[e[s]]||(o[e[s]]={});return o},msos.generate_url_name=function(e){"use strict";var o,s=[],t="";return o=msos.purl(e).attr("path"),s=o.split("/"),t=s.slice(2).join(":"),t=t.replace(/[^0-9a-zA-Z]/g,"_")},msos.run_function_array=function(e){"use strict";var o="msos.run_func_array -> ",s=0;if(e=e||"missing",msos.console.debug(o+"start: "+e),!msos[e]||!_.isArray(msos[e]))return void msos.console.error(o+"for: "+e+", failed.");for(s=0;s<msos[e].length;s+=1){msos.console.debug(o+"index: "+s);try{msos[e][s]()}catch(t){msos.console.error(o+"for: "+e,t)}}msos[e]=[],msos.console.debug(o+" done: "+e)},msos.get_js_base=function(){"use strict";var e,o,s,t="msos.get_js_base -> ";if(msos.console.debug(t+"start."),e=document.getElementsByTagName("script"),o=e[e.length-1],s=o.src,s=s.slice(0,s.lastIndexOf("/")+1)||"",!s)throw new Error(t+"failed!");return msos.console.debug(t+"done, uri: "+s),s},msos.base_script_url=msos.get_js_base(),msos.resource_url=function(e,o){"use strict";return msos.base_script_url.replace(/\/msos\//,"/"+e+"/")+o},msos.cookie=function(e,o,s){"use strict";var t="msos.cookie -> ",r="",n=null,i="",a="",c="",u="",d=[],l="",m="",f=0;if(msos.config.verbose&&msos.console.debug(t+"start, "+(o?"set":"get")+" for "+e),void 0!==o)return s=s||{expires:90,path:"/"},null===o&&(o="",s.expires=-1,msos.console.debug(t+"delete: "+e)),s.expires&&("number"==typeof s.expires||s.expires.toUTCString)&&("number"==typeof s.expires?(n=new Date,n.setTime(n.getTime()+864e5*s.expires)):n=s.expires,r="; expires="+n.toUTCString()),i=s.path?"; path="+s.path:"; path=/",a=s.domain?"; domain="+s.domain:"",c=s.secure?"; secure":"",u=[e,"=",encodeURIComponent(o),r,i,a,c].join(""),document.cookie=u,msos.config.verbose&&msos.console.debug(t+"done, set: "+u),!0;if(m="",document.cookie&&""!==document.cookie)for(d=document.cookie.split(";"),f=0;f<d.length;f+=1)if(l=d[f],l=l.replace(/^\s+|\s+$/g,""),l.substring(0,e.length+1)===e+"="){m=decodeURIComponent(l.substring(e.length+1));break}return msos.config.verbose&&msos.console.debug(t+"done, get: "+(m||"na")),m},msos.clear_cookies=function(){"use strict";var e,o="msos.clear_cookies -> ",s=0,t=["site_pref","site_i18n","site_cart","site_cltl","site_bdwd"];for(msos.console.debug(o+"start."),s=0;s<t.length;s+=1)e=msos.config.cookie[t[s]]||0,e&&msos.cookie(e.name,null);msos.console.debug(o+"done!")},msos.config.clear_cookies&&msos.clear_cookies(),msos.set_locale=function(){"use strict";var e="msos.set_locale -> ",o=msos.config,s=o.cookie.site_i18n,t=[];s.value&&(t=s.value.split(":")),msos.console.debug(e+"start, cookie: "+(s.value||"na")),o.locale=o.query.locale||t[0]||o.locale||msos.default_locale,o.culture=o.query.culture||t[1]||o.culture||o.locale,o.calendar=o.query.calendar||t[2]||o.calendar,msos.console.debug(e+"done, locale: "+o.locale+", culture: "+o.culture+", calendar: "+o.calendar)},msos.set_locale_cookie=function(){"use strict";var e="msos.set_locale_cookie -> ",o=msos.config.cookie.site_i18n;msos.console.debug(e+"start."),o.value=msos.config.locale+":"+msos.config.culture+":"+msos.config.calendar,msos.cookie(o.name,o.value,o.params),msos.console.debug(e+"done, value: "+o.value),o.set=!0},msos.get_viewport=function(e){"use strict";var o=msos.verge.viewport();return window===e&&(msos.config.view_port=o),msos.console.debug("msos.get_viewport -> viewport:",o),o},msos.browser_orientation=function(){"use strict";var e=msos.config.view_orientation,o=msos.get_viewport(window),s="msos.browser_orientation -> ";if(void 0!==window.orientation){switch(window.orientation){case 0:e.layout="portrait",e.direction="normal",e.numeric=0;break;case-90:e.layout="landscape",e.direction="right",e.numeric=-90;break;case 90:e.layout="landscape",e.direction="left",e.numeric=90;break;case 180:e.layout="portrait",e.direction="flipped",e.numeric=180;break;default:e.layout=o.width/o.height<1.1?"portrait":"landscape",e.direction="normal",e.numeric=o.width/o.height<1.1?0:90}e.method="window.orientation("+window.orientation+")"}else e.layout=o.width/o.height<1.1?"portrait":"landscape",e.direction="normal",e.method="document.documentElement",e.numeric=o.width/o.height<1.1?0:90;return msos.console.debug(s+"layout: "+e.layout+", dir: "+e.direction+" for "+e.method),e},msos.browser_current=function(){"use strict";var e="msos.browser_current -> ",o=[];return window.focus||o.push("window.focus"),document.images||o.push("document.images"),document.styleSheets||o.push("document.styleSheets"),document.open||o.push("document.open"),document.close||o.push("document.close"),window.document.write||o.push("document.write"),document.addEventListener||o.push("document.addEventListener"),0===o.length?(msos.console.debug(e+"browser is current"),void(msos.config.browser.current=!0)):(msos.console.warn(e+"browser does not support: "+o.join(", ")+" -> for doctype "+msos.config.doctype),"xhtml5"===msos.config.doctype&&"document.write"===o[2]?void(msos.config.browser.current=!0):(msos.console.error(e+"browser is not current"),void(msos.config.browser.current=!1)))},msos.browser_touch=function(){"use strict";var e="msos.browser_touch -> ",o="",s=document.createElement("div"),t=0;for(o in msos.config.touch)msos.config.touch[o]===!0?t+=1:t-=1;try{document.createEvent("TouchEvent"),t+=1}catch(r){t-=1}"ontouchstart"in s?t+=1:(s.setAttribute("ontouchstart","return;"),t+="function"==typeof s.ontouchstart?1:-1),s=null,t>0&&(msos.config.browser.touch=!0),msos.console.debug(e+"touch is "+(msos.config.browser.touch?"":"not")+" available, ref. ("+String(t)+")")},msos.browser_mobile=function(){"use strict";var e="msos.browser_mobile -> ",o=0,s=[];msos.var_is_empty(screen.height)||msos.var_is_empty(screen.width)||(o=screen.height>screen.width?screen.height:screen.width),o&&481>o&&s.push("screen"),msos.config.browser.touch&&s.push("touch"),msos.config.orientation&&s.push("orientation"),msos.config.orientation_change&&s.push("orientation_change"),msos.config.pixel_ratio>1&&s.push("pixel_ratio"),s.length>2&&(msos.config.browser.mobile=!0,msos.config.mobile=!0),msos.console.debug(e+"browser is "+(msos.config.browser.mobile?"mobile":"not mobile")+(s.length>0?", flag(s): "+s.join(", "):"")),(msos.config.query.mobile===!0||msos.config.query.mobile===!1)&&(msos.config.browser.mobile!==msos.config.query.mobile&&msos.console.debug(e+"force mobile setting: "+msos.config.query.mobile),msos.config.mobile=msos.config.query.mobile?!0:!1)},msos.browser_advanced=function(){"use strict";var e="msos.browser_advanced -> ",o=document.createElement("body"),s=o.style,t=[],r=["Webkit","Moz","O","ms","Khtml"],n=null,i=null;return n=function(e){var o=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+r.join(o+" ")+o).split(" "),i="";for(i in n)if(void 0!==s[i])return!0;return t.push(e),!1},msos.config.css_pseudoelement=!!n("content"),msos.config.boxshadow=!!n("boxShadow")&&!window.blackberry,msos.config.transform=!!n("Transform"),i=function(){var e=0;for(e=0;e<r.length;e+=1)if(window[r[e]+"WebSocket"])return!0;return"WebSocket"in window},msos.config.websocket=i(),msos.config.scrolltop||t.push("scrollTop"),o=null,t[0]?(msos.console.debug(e+"browser is not advanced, missing: "+t.join(" ")),msos.config.browser.advanced=!1,!1):(msos.console.debug(e+"browser is advanced."),msos.config.browser.advanced=!0,!0)},msos.browser_editable=function(){"use strict";return document.designMode||msos.body.contentEditable?void 0===document.execCommand?void(msos.config.browser.editable=!1):(msos.console.debug("msos.browser_editable -> browser supports content editing"),void(msos.config.browser.editable=!0)):void(msos.config.browser.editable=!1)},msos.browser_direction=function(){"use strict";var e="",o=null;o=function(){var e=document.createElement("p"),o=document.createElement("span"),s="";return e.style.margin="0 0 0 0",e.style.padding="0 0 0 0",e.style.textAlign="",o.innerHTML="X",e.appendChild(o),document.body.appendChild(e),s=o.offsetLeft<e.offsetWidth-(o.offsetLeft+o.offsetWidth)?"ltr":"rtl",msos.body.removeChild(e),msos.config.verbose&&msos.console.debug("msos.browser_direction -> by build_test: "+s),s},e=(msos.body.dir||document.documentElement.dir||o()||"ltr").toLowerCase(),msos.config.browser.direction=e},msos.browser_preloading=function(){"use strict";var e=msos.config.script_preload,o=document.createElement("script"),s=navigator.userAgent;e.async="async"in o?!0:!1,e.defer="defer"in o?!0:!1,e.explicit="boolean"==typeof o.preload?!0:!1,e.available=e.explicit?!0:o.readyState&&"uninitialized"===o.readyState?!0:!1,e.ordered=e.available||o.async!==!0?!1:!0,e.xhr_cache=e.available||!e.ordered&&-1===s.indexOf("Opera")&&-1===s.indexOf("Gecko")?!0:!1,o=null},msos.get_head=function(e){"use strict";var o=e.document,s=o.documentElement,t=o.head||o.getElementsByTagName("head")[0];return t||(t=o.createElement("head"),s.insertBefore(t,s.firstChild)),t},msos.create_node=function(e,o,s){"use strict";s||(s=window);var t=s.document.createElement(e),r="";msos.config.verbose&&msos.console.debug("msos.create_node -> called for: "+e,o);for(r in o)t.setAttribute(r,o[r]);return t},msos.loader=function(e){"use strict";var o="msos.loader",s=this,t=msos.purl().attr("file"),r=0;e||(e=window),e.msos||(e.msos={}),e.name||(e.name=t.replace(/[^0-9a-zA-Z]/g,"_")||"base_win"),e.msos.registered_files||(e.msos.registered_files={js:{},css:{},ico:{},ajax:{}}),msos.console.debug(o+" -> start for window: "+e.name),this.doc_head=msos.get_head(e),this.toggle_css=[],this.delay_css=0,this.deferred_array=[],this.deferred_done=!0,this.add_resource_onload=[],this.load=function(e,t,r,n){var i=t.split("?")[0],a=i.substr(i.lastIndexOf(".")+1),c=/^js|css|ico$/,u=" - load -> ",d=null;return msos.config.verbose&&msos.console.debug(o+u+"start."),n=n||{},r||(r=a||"na"),c.test(r)?(s.check(e,t,r)?msos.console.debug(o+u+"already loaded: "+e+", url: "+t):(d=function(){s.resource(e,t,r,n)},n.defer&&"defer"===n.defer?msos.config.script_preload.ordered?(d(),msos.console.debug(o+u+"browser deferred file: "+t)):(s.deferred_done===!0?(s.deferred_done=!1,d()):s.deferred_array.push(d),msos.console.debug(o+u+"deferred file: "+t+", queue: "+s.deferred_array.length)):"css"===r?(setTimeout(d,s.delay_css),s.delay_css+=5,msos.console.debug(o+u+"css file: "+t+", delay: "+s.delay_css)):(d(),msos.console.debug(o+u+"file: "+t))),void(msos.config.verbose&&msos.console.debug(o+u+"done!"))):void msos.console.error(o+u+"missing or invalid: "+r)},this.check=function(t,n,i){var a=s.toggle_css,c=!1,u=" - check -> ";if(msos.console.debug(o+u+"start."),e.msos.registered_files[i]&&e.msos.registered_files[i][t]&&(c=!0),"css"===i&&a.length>0){for(r=0;r<a.length;r+=1)e.msos.registered_files.css[a[r]]&&(e.msos.registered_files.css[a[r]].disabled=!0);for(e.msos.registered_files.css[t]&&(e.msos.registered_files.css[t].disabled=!1,msos.console.debug(o+u+"set active: "+n)),r=0;r<s.add_resource_onload.length;r+=1)s.add_resource_onload[r]()}return msos.console.debug(o+u+"done, already loaded (t/f): "+(c?"true":"false")+" for "+t),c},this.init_create_node=function(s,t,r,n){var i=null,a=" - init_create_node -> ",c={},u="";if(msos.config.verbose&&msos.console.debug(o+a+"start."),msos.config.cache===!1&&(t+=(/\?.*$/.test(t)?"&_":"?_")+~~(1e9*Math.random())+"="),"js"===r?c={id:s,type:"text/javascript",src:t,charset:"utf-8"}:"css"===r?c={id:s,type:"text/css",rel:"stylesheet",href:t,media:"all"}:"ico"===r&&(c={id:s,type:"image/x-icon",rel:"shortcut icon",href:t}),void 0!==n&&"object"==typeof n)for(u in n)c[u]=n[u];return"js"===r?(i=msos.create_node("script",c,e),"defer"===n.defer?i.async=!1:i.async=!0):"css"===r?i=msos.create_node("link",c,e):"ico"===r&&(i=msos.create_node("link",c,e)),i.msos_load_state="loading","js"===r&&msos.config.script_onerror&&(i.onerror=function(e){msos.console.error(o+" -> failed for: "+s,e)}),msos.config.verbose&&msos.console.debug(o+a+"done!"),i},this.resource=function(t,r,n,i){var a=s.init_create_node(t,r,n,i)||null,c=" - resource -> ",u=function(){var e,t=0;if("loaded"!==this.msos_load_state&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState||"uninitialized"===this.readyState)){for(msos.config.verbose&&msos.console.debug(o+c+"loaded, name: "+this.id),this.msos_load_state="loaded",t=0;t<s.add_resource_onload.length;t+=1)s.add_resource_onload[t]();"defer"===this.getAttribute("defer")&&(s.deferred_array.length?(e=s.deferred_array.shift())():s.deferred_done=!0),this.onload=this.onreadystatechange=null}return!0};msos.console.debug(o+c+"start, type: "+n+", name: "+t),null!==a&&(a.onload=a.onreadystatechange=u,s.doc_head.appendChild(a),e.msos.registered_files[n][t]=a,msos.console.debug(o+c+"done!"))},msos.console.debug(o+" -> done!")},msos.dom_tracking=function(e){"use strict";var o="msos.dom_tracking";if(msos.dom[e])return void msos.console.error(o+" -> failed, jQuery.fn."+e+" already registered.");msos.dom[e]=[];var s=jQuery.fn[e];jQuery.fn[e]=function(){var t=o+" - "+e,r=[];return msos.console.debug(t+" -> start."),jQuery.each(this,function(o,s){var n=msos.dom[e],i=s.tagName,a=s.id||"trk_"+i.toLowerCase()+"_"+(n.length+1),c=jQuery(s);s.id||(s.id=a),-1===n.indexOf(a)?(n.push(a),r.push(s),c.data(a,!0),msos.config.verbose&&msos.console.debug(t+" -> skipped: "+a)):c.data(a)!==!0&&(r.push(s),c.data(a,!0),msos.console.debug(t+" -> new instance: "+a))}),msos.console.debug(t+" -> done!"),s.apply(jQuery(r),arguments)}},msos.set_environment=function(){"use strict";var e="msos.set_environment -> ",o=msos.config.cookie;msos.console.debug(e+"start"),o.site_pref.value=msos.cookie(o.site_pref.name),o.site_i18n.value=msos.cookie(o.site_i18n.name),o.site_bdwd.value=msos.cookie(o.site_bdwd.name),msos.browser_current(),msos.browser_advanced(),msos.browser_editable(),msos.browser_orientation(),msos.browser_touch(),msos.browser_mobile(),msos.browser_preloading(),msos.config.verbose?msos.console.debug(e+"done, browser env: ",msos.config.browser):msos.console.debug(e+"done!")},msos.calc_display_size=function(){"use strict";var e="",o=msos.config.view_port,s=0,t=0,r=0,n="",i=0;msos.var_is_empty(o.width)||0===o.width||(s=o.width),msos.var_is_empty(screen.width)||0===screen.width||(t=screen.width),r=s||t;for(n in msos.config.size_wide)i=msos.config.size_wide[n]+.01*msos.config.size_wide[n],r>i&&(e?msos.config.size_wide[e]<msos.config.size_wide[n]&&(e=n):e=n);return msos.console.debug("msos.calc_display_size -> calculated: "+e+", viewport w: "+o.width+", screen w: "+screen.width),e},msos.get_display_size=function(e){"use strict";var o="msos.get_display_size -> ",s=msos.config.cookie.site_pref.value,t=msos.config.view_orientation.layout,r=[],n="";msos.console.debug(o+"start, resize: "+(e?"true":"false")),s?(r=s.split(":"),n="portrait"===t?r[0]||"":r[1]||"",msos.console.debug(o+"cookie detected: "+s)):(r[0]="unknown",r[1]="unknown"),r[2]=t,("unknown"===n||e)&&(n=""),msos.config.size=msos.config.query.size||n||msos.calc_display_size()||msos.config.size,msos.config.query.size&&msos.console.info(o+"NOTE: size set by input!"),"portrait"===t?r[0]=msos.config.size:r[1]=msos.config.size,s=r.join(":"),msos.config.cookie.site_pref.value=s,msos.console.debug(o+"done: "+msos.config.size+", for "+t)},msos.css_loader=function(e,o){"use strict";var s="msos.css_loader -> ",t=null,r="",n="",i=0;for(msos.console.debug(s+"start."),t=new msos.loader(o),i=0;i<e.length;i+=1)n=e[i],r=msos.generate_url_name(n),t.load(r,n,"css");msos.console.debug(s+"done!")},msos.script_loader=function(e){"use strict";var o="msos.script_loader -> ",s=null,t="",r="",n=0;for(msos.console.debug(o+"start."),s=new msos.loader,n=0;n<e.length;n+=1)r=e[n],t=msos.generate_url_name(r),s.load(t,r,"js",{defer:"defer"});msos.console.debug(o+"done!")},msos.set_environment(),msos.set_locale(),msos.get_display_size(),msos.console.info("msos/base -> done!"),msos.console.timeEnd("base");
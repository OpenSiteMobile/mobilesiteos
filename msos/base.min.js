console&&console.info&&console.info("msos/base -> start.");var msos={default_locale:document.getElementsByTagName("html")[0].getAttribute("lang")||"en",default_translate:"fr",default_country:{en:"US",fr:"FR",de:"DE"},default_keyboard_locales:["en","fr","de","es"],base_site_url:"//"+document.domain,base_script_url:"",base_config_url:"",base_images_url:"",body:null,head:null,html:null,docl:null,ajax_loading_kbps:{},deferred_css:[],deferred_scripts:[],dom:{},form_inputs:null,form_validate:null,html_inputs:["text","file","password","textarea","radio","checkbox","select"],html5_attributes:["autocomplete","autofocus","list","placeholder","max","min","maxlength","multiple","pattern","required","step"],html5_inputs:["search","tel","url","email","datetime","date","month","week","time","datetime-local","number","range","color"],i18n_order:[],i18n_queue:0,log_methods:["error","warn","info","debug","time","timeEnd","log"],onload_func_pre:[],onload_func_start:[],onload_functions:[],onload_func_done:[],onload_func_post:[],ondisplay_size_change:[],onorientationchange_functions:[],onresize_functions:[],record_times:{},registered_files:{js:{},css:{},ico:{},ajax:{}},registered_folders:{msos:"",jquery:"",apps:""},registered_modules:{msos:!1},registered_templates:{},registered_tools:{},require_attempts:0,require_deferred:0,require_queue:0};msos.config={console:!1,clear_storage:!1,debug:!1,debug_css:!1,debug_output:!1,debug_script:!1,debug_disable:!1,mobile:!1,verbose:!1,visualevent:!1,run_ads:!1,run_size:!1,run_analytics:!1,run_onerror:!1,run_overflowscroll:!1,run_social:!1,run_translate:!1,run_amazon_prev:!1,browser:{advanced:!1,current:!1,direction:"",editable:!1,mobile:!1,touch:!1},cache:!0,color:{bk:"black",wh:"white",dg:"darkgrey",lg:"lightgrey",sl:"salmon",lb:"lightblue",rd:"red",be:"beige"},connection:{type:0,bandwidth:10,metered:!1},storage:{site_pref:{name:"msos_site_pref",value:"",set:!1},site_i18n:{name:"msos_site_i18n",value:"",set:!1},site_cltl:{name:"msos_site_cltl",value:"",set:!1},site_bdwd:{name:"msos_site_bdwd",value:"",set:!1},site_ajax:{name:"msos_site_ajax",value:"",set:!1},site_tabs:{name:"msos_site_tab_"},site_sdmn:{name:"msos_site_sdm_"},site_popu:{name:"msos_site_pop_"}},debugging:["console","debug","debug_script","debug_css","debug_output","mobile","verbose","visualevent","run_ads","run_size","run_analytics","run_onerror","run_overflowscroll","run_social","run_translate","run_amazon_prev","use_date","use_color","use_number","use_range","clear_storage"],doctype:window.document.getElementsByTagName("html")[0].getAttribute("xmlns")?"xhtml5":"html5",file:{file:"object"==typeof window.File?!0:!1,reader:"function"==typeof window.FileReader?!0:!1,list:"object"==typeof window.FileList?!0:!1,blob:"object"==typeof window.Blob?!0:!1},force_shim:{inputs:{date:!0,color:!0,number:!0,range:!0,time:!1,month:!1,week:!1},media:{video:!1,audio:!1}},google:{no_translate:{},hide_tooltip:{}},hellojs_redirect:"/mobilesiteos/hello/redirect.html",i18n:{select_trans_msos:{},select_kbrds_msos:{}},intl:{select_culture:{},select_calendar:{}},locale:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),culture:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),calendar:"standard",json:"object"==typeof JSON&&"function"==typeof JSON.stringify&&"function"==typeof JSON.parse?!0:!1,jquery_ui_theme:"mobilesiteos",jquery_ui_avail:{base:"Base (generic)",lightness:"UI-Lightness",mobilesiteos:"MobileSiteOS"},keyboard:"",keyboard_locales:[].concat(msos.default_keyboard_locales),gesture:function(){"use strict";var e=document.createElement("div");return e.setAttribute("ongesturestart","return;"),"function"==typeof e.ongesturestart?!0:!1}(),onerror_uri:"http://"+window.location.hostname+"/onerror.html",orientation:"number"==typeof window.orientation?!0:!1,orientation_change:"onorientationchange"in window?!0:!1,page_uri:window.location.href,pixel_ratio:window.devicePixelRatio||1,popups_blocked:!1,query:{},script_onerror:function(){"use strict";var e=document.createElement("script");return e.type="text/javascript",e.setAttribute("onerror","return;"),"function"==typeof e.onerror?!0:"onerror"in e?!0:!1}(),script_preload:{available:!1,async:!1,defer:!1,explicit:!1,ordered:!1,xhr_cache:!1},scrolltop:void 0!==window.pageXOffset||void 0!==document.documentElement.scrollTop?!0:!1,size:"",size_folder:"css",size_array:[],size_wide:{desktop:1080,large:960,medium:760,small:640,tablet:480,phone:320},social:{},touch:{ontouchstart:"ontouchstart"in window?!0:!1,ontouchend:"ontouchend"in document?!0:!1,object:"object"==typeof window.Touch?!0:!1,event:void 0!==window.TouchEvent?!0:!1,create:"createTouch"in document?!0:!1,doc_touch:"DocumentTouch"in window&&document instanceof DocumentTouch?!0:!1},view_orientation:{layout:"",direction:"",method:"",numeric:0},view_port:{height:0,width:0,delta_width:0,delta_heigth:0}},function(e){function t(e,t){for(var n=decodeURI(e),o=g[t?"strict":"loose"].exec(n),r={attr:{},param:{},seg:{}},i=14;i--;)r.attr[d[i]]=o[i]||"";return r.param.query=s(r.attr.query),r.param.fragment=s(r.attr.fragment),r.seg.path=r.attr.path.replace(/^\/+|\/+$/g,"").split("/"),r.seg.fragment=r.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),r.attr.base=r.attr.host?(r.attr.protocol?r.attr.protocol+"://"+r.attr.host:r.attr.host)+(r.attr.port?":"+r.attr.port:""):"",r}function n(e,t){if(0===e[t].length)return e[t]={};var n={};for(var o in e[t])n[o]=e[t][o];return e[t]=n,n}function o(e,t,r,s){var i=e.shift();if(i){var a=t[r]=t[r]||[];"]"==i?c(a)?""!==s&&a.push(s):"object"==typeof a?a[l(a).length]=s:a=t[r]=[t[r],s]:~i.indexOf("]")?(i=i.substr(0,i.length-1),!p.test(i)&&c(a)&&(a=n(t,r)),o(e,a,i,s)):(!p.test(i)&&c(a)&&(a=n(t,r)),o(e,a,i,s))}else c(t[r])?t[r].push(s):"object"==typeof t[r]?t[r]=s:"undefined"==typeof t[r]?t[r]=s:t[r]=[t[r],s]}function r(e,t,n){if(~t.indexOf("]")){var r=t.split("[");o(r,e,"base",n)}else{if(!p.test(t)&&c(e.base)){var s={};for(var a in e.base)s[a]=e.base[a];e.base=s}""!==t&&i(e.base,t,n)}return e}function s(e){return u(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var o=t.indexOf("="),s=a(t),i=t.substr(0,s||o),u=t.substr(s||o,t.length);return u=u.substr(u.indexOf("=")+1,u.length),""===i&&(i=t,u=""),r(e,i,u)},{base:{}}).base}function i(e,t,n){var o=e[t];"undefined"==typeof o?e[t]=n:c(o)?o.push(n):e[t]=[o,n]}function a(e){for(var t,n,o=e.length,r=0;o>r;++r)if(n=e[r],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return r;return void 0}function u(e,t){for(var n=0,o=e.length>>0,r=arguments[2];o>n;)n in e&&(r=t.call(void 0,r,e[n],n,e)),++n;return r}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function f(e,n){return 1===arguments.length&&e===!0&&(n=!0,e=void 0),n=n||!1,e=e||window.location.toString(),{data:t(e,n),attr:function(e){return e=m[e]||e,"undefined"!=typeof e?this.data.attr[e]:this.data.attr},param:function(e){return"undefined"!=typeof e?this.data.param.query[e]:this.data.param.query},fparam:function(e){return"undefined"!=typeof e?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return"undefined"==typeof e?this.data.seg.path:(e=0>e?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return"undefined"==typeof e?this.data.seg.fragment:(e=0>e?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],m={anchor:"fragment"},g={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},p=/^[0-9]+$/;e.parse_string=s,e.purl=f}(msos),msos.parse_query=function(){"use strict";var e=msos.purl(),t="",n="",o=e.param();for(t in o)o[t]=o[t].replace(/[^0-9a-zA-Z_]/g,"_"),"true"===o[t]&&(o[t]=!0),"false"===o[t]&&(o[t]=!1);for(n in msos.config)(o[n]||o[n]===!1)&&(msos.config[n]=o[n]);return msos.config.verbose&&(msos.config.debug=!0),o},msos.config.query=msos.parse_query(),msos.config.clear_storage&&msos.basil.reset(),msos.console=function(){"use strict";function e(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}for(var t={queue:[]},n=window.console,o=msos.log_methods.length-1,r=Array.prototype.slice;o>=0;)!function(o){t[o]=function(){if("error"===o||"warn"===o||msos.config.debug){var s,i=msos.config,a=i.query.debug_filter||"",u=0,c=r.apply(arguments),l=c[0]?c[0].replace(/\W/g,"_"):"missing_args",f=n[o]||n.log,d=[],m=[];if("debug"===o&&i.verbose&&a&&/^[0-9a-zA-Z.]+$/.test(a)&&(a=new RegExp("^"+a.replace(".",".")),!l.match(a)))return void msos.console.warn("msos.console -> no match for debug filter: "+a);if(("time"===o||"timeEnd"===o)&&(msos.record_times[l+"_"+o]=(new Date).getTime()),i.console&&(d=[o].concat(c),("time"===o||"timeEnd"===o)&&d.push(msos.record_times[l+"_"+o]),t.queue.push(d)),n)if(f.apply){for(u=0;u<c.length;u+=1)m.push(e(c[u]));f.apply(n,m)}else s=c.join(" "),f(s)}}}(msos.log_methods[o]),o-=1;return t}(),msos.console.time("base"),msos.console.debug("msos/base -> msos.console now available."),msos.console.debug("msos/base -> purl.js now available."),function(){function e(e){function t(t,n,o,r,s,i){for(;s>=0&&i>s;s+=e){var a=r?r[s]:s;o=n(o,t[a],a,t)}return o}return function(n,o,r,s){o=b(o,s,4);var i=!O(n)&&v.keys(n),a=(i||n).length,u=e>0?0:a-1;return arguments.length<3&&(r=n[i?i[u]:u],u+=e),t(n,o,r,i,u,a)}}function t(e){return function(t,n,o){n=y(n,o);for(var r=E(t),s=e>0?0:r-1;s>=0&&r>s;s+=e)if(n(t[s],s,t))return s;return-1}}function n(e,t,n){return function(o,r,s){var i=0,a=E(o);if("number"==typeof s)e>0?i=s>=0?s:Math.max(s+a,i):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(o,r),o[s]===r?s:-1;if(r!==r)return s=t(l.call(o,i,a),v.isNaN),s>=0?s+i:-1;for(s=e>0?i:a-1;s>=0&&a>s;s+=e)if(o[s]===r)return s;return-1}}function o(e,t){var n=T.length,o=e.constructor,r=v.isFunction(o)&&o.prototype||a,s="constructor";for(v.has(e,s)&&!v.contains(t,s)&&t.push(s);n--;)s=T[n],s in e&&e[s]!==r[s]&&!v.contains(t,s)&&t.push(s)}var r=this,s=r._,i=Array.prototype,a=Object.prototype,u=Function.prototype,c=i.push,l=i.slice,f=a.toString,d=a.hasOwnProperty,m=Array.isArray,g=Object.keys,p=u.bind,h=Object.create,_=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):r._=v,v.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)};case 4:return function(n,o,r,s){return e.call(t,n,o,r,s)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return null==e?v.identity:v.isFunction(e)?b(e,t,n):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return y(e,t,1/0)};var w=function(e,t){return function(n){var o=arguments.length;if(2>o||null==n)return n;for(var r=1;o>r;r++)for(var s=arguments[r],i=e(s),a=i.length,u=0;a>u;u++){var c=i[u];t&&void 0!==n[c]||(n[c]=s[c])}return n}},x=function(e){if(!v.isObject(e))return{};if(h)return h(e);_.prototype=e;var t=new _;return _.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,E=k("length"),O=function(e){var t=E(e);return"number"==typeof t&&t>=0&&j>=t};v.each=v.forEach=function(e,t,n){t=b(t,n);var o,r;if(O(e))for(o=0,r=e.length;r>o;o++)t(e[o],o,e);else{var s=v.keys(e);for(o=0,r=s.length;r>o;o++)t(e[s[o]],s[o],e)}return e},v.map=v.collect=function(e,t,n){t=y(t,n);for(var o=!O(e)&&v.keys(e),r=(o||e).length,s=Array(r),i=0;r>i;i++){var a=o?o[i]:i;s[i]=t(e[a],a,e)}return s},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,n){var o;return o=O(e)?v.findIndex(e,t,n):v.findKey(e,t,n),void 0!==o&&-1!==o?e[o]:void 0},v.filter=v.select=function(e,t,n){var o=[];return t=y(t,n),v.each(e,function(e,n,r){t(e,n,r)&&o.push(e)}),o},v.reject=function(e,t,n){return v.filter(e,v.negate(y(t)),n)},v.every=v.all=function(e,t,n){t=y(t,n);for(var o=!O(e)&&v.keys(e),r=(o||e).length,s=0;r>s;s++){var i=o?o[s]:s;if(!t(e[i],i,e))return!1}return!0},v.some=v.any=function(e,t,n){t=y(t,n);for(var o=!O(e)&&v.keys(e),r=(o||e).length,s=0;r>s;s++){var i=o?o[s]:s;if(t(e[i],i,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,o){return O(e)||(e=v.values(e)),("number"!=typeof n||o)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=function(e,t){var n=l.call(arguments,2),o=v.isFunction(t);return v.map(e,function(e){var r=o?t:e[t];return null==r?r:r.apply(e,n)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var o,r,s=-(1/0),i=-(1/0);if(null==t&&null!=e){e=O(e)?e:v.values(e);for(var a=0,u=e.length;u>a;a++)o=e[a],o>s&&(s=o)}else t=y(t,n),v.each(e,function(e,n,o){r=t(e,n,o),(r>i||r===-(1/0)&&s===-(1/0))&&(s=e,i=r)});return s},v.min=function(e,t,n){var o,r,s=1/0,i=1/0;if(null==t&&null!=e){e=O(e)?e:v.values(e);for(var a=0,u=e.length;u>a;a++)o=e[a],s>o&&(s=o)}else t=y(t,n),v.each(e,function(e,n,o){r=t(e,n,o),(i>r||r===1/0&&s===1/0)&&(s=e,i=r)});return s},v.shuffle=function(e){for(var t,n=O(e)?e:v.values(e),o=n.length,r=Array(o),s=0;o>s;s++)t=v.random(0,s),t!==s&&(r[s]=r[t]),r[t]=n[s];return r},v.sample=function(e,t,n){return null==t||n?(O(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,n){return t=y(t,n),v.pluck(v.map(e,function(e,n,o){return{value:e,index:n,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,o=t.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(o>n||void 0===o)return-1}return e.index-t.index}),"value")};var S=function(e){return function(t,n,o){var r={};return n=y(n,o),v.each(t,function(o,s){var i=n(o,s,t);e(r,o,i)}),r}};v.groupBy=S(function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=S(function(e,t,n){e[n]=t}),v.countBy=S(function(e,t,n){v.has(e,n)?e[n]++:e[n]=1}),v.toArray=function(e){return e?v.isArray(e)?l.call(e):O(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:O(e)?e.length:v.keys(e).length},v.partition=function(e,t,n){t=y(t,n);var o=[],r=[];return v.each(e,function(e,n,s){(t(e,n,s)?o:r).push(e)}),[o,r]},v.first=v.head=v.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var A=function(e,t,n,o){for(var r=[],s=0,i=o||0,a=E(e);a>i;i++){var u=e[i];if(O(u)&&(v.isArray(u)||v.isArguments(u))){t||(u=A(u,t,n));var c=0,l=u.length;for(r.length+=l;l>c;)r[s++]=u[c++]}else n||(r[s++]=u)}return r};v.flatten=function(e,t){return A(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,n,o){v.isBoolean(t)||(o=n,n=t,t=!1),null!=n&&(n=y(n,o));for(var r=[],s=[],i=0,a=E(e);a>i;i++){var u=e[i],c=n?n(u,i,e):u;t?(i&&s===c||r.push(u),s=c):n?v.contains(s,c)||(s.push(c),r.push(u)):v.contains(r,u)||r.push(u)}return r},v.union=function(){return v.uniq(A(arguments,!0,!0))},v.intersection=function(e){for(var t=[],n=arguments.length,o=0,r=E(e);r>o;o++){var s=e[o];if(!v.contains(t,s)){for(var i=1;n>i&&v.contains(arguments[i],s);i++);i===n&&t.push(s)}}return t},v.difference=function(e){var t=A(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,E).length||0,n=Array(t),o=0;t>o;o++)n[o]=v.pluck(e,o);return n},v.object=function(e,t){for(var n={},o=0,r=E(e);r>o;o++)t?n[e[o]]=t[o]:n[e[o][0]]=e[o][1];return n},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,n,o){n=y(n,o,1);for(var r=n(t),s=0,i=E(e);i>s;){var a=Math.floor((s+i)/2);n(e[a])<r?s=a+1:i=a}return s},v.indexOf=n(1,v.findIndex,v.sortedIndex),v.lastIndexOf=n(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var o=Math.max(Math.ceil((t-e)/n),0),r=Array(o),s=0;o>s;s++,e+=n)r[s]=e;return r};var z=function(e,t,n,o,r){if(!(o instanceof t))return e.apply(n,r);var s=x(e.prototype),i=e.apply(s,r);return v.isObject(i)?i:s};v.bind=function(e,t){if(p&&e.bind===p)return p.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),o=function(){return z(e,o,t,this,n.concat(l.call(arguments)))};return o},v.partial=function(e){var t=l.call(arguments,1),n=function(){for(var o=0,r=t.length,s=Array(r),i=0;r>i;i++)s[i]=t[i]===v?arguments[o++]:t[i];for(;o<arguments.length;)s.push(arguments[o++]);return z(e,n,this,this,s)};return n},v.bindAll=function(e){var t,n,o=arguments.length;if(1>=o)throw new Error("bindAll must be passed function names");for(t=1;o>t;t++)n=arguments[t],e[n]=v.bind(e[n],e);return e},v.memoize=function(e,t){var n=function(o){var r=n.cache,s=""+(t?t.apply(this,arguments):o);return v.has(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n},v.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var o,r,s,i=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:v.now(),i=null,s=e.apply(o,r),i||(o=r=null)};return function(){var c=v.now();a||n.leading!==!1||(a=c);var l=t-(c-a);return o=this,r=arguments,0>=l||l>t?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(o,r),i||(o=r=null)):i||n.trailing===!1||(i=setTimeout(u,l)),s}},v.debounce=function(e,t,n){var o,r,s,i,a,u=function(){var c=v.now()-i;t>c&&c>=0?o=setTimeout(u,t-c):(o=null,n||(a=e.apply(s,r),o||(s=r=null)))};return function(){s=this,r=arguments,i=v.now();var c=n&&!o;return o||(o=setTimeout(u,t)),c&&(a=e.apply(s,r),s=r=null),a}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,o=e[t].apply(this,arguments);n--;)o=e[n].call(this,o);return o}},v.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},v.once=v.partial(v.before,2);var q=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return q&&o(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return q&&o(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,o=Array(n),r=0;n>r;r++)o[r]=e[t[r]];return o},v.mapObject=function(e,t,n){t=y(t,n);for(var o,r=v.keys(e),s=r.length,i={},a=0;s>a;a++)o=r[a],i[o]=t(e[o],o,e);return i},v.pairs=function(e){for(var t=v.keys(e),n=t.length,o=Array(n),r=0;n>r;r++)o[r]=[t[r],e[t[r]]];return o},v.invert=function(e){for(var t={},n=v.keys(e),o=0,r=n.length;r>o;o++)t[e[n[o]]]=n[o];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(e,t,n){t=y(t,n);for(var o,r=v.keys(e),s=0,i=r.length;i>s;s++)if(o=r[s],t(e[o],o,e))return o},v.pick=function(e,t,n){var o,r,s={},i=e;if(null==i)return s;v.isFunction(t)?(r=v.allKeys(i),o=b(t,n)):(r=A(arguments,!1,!1,1),o=function(e,t,n){return t in n},i=Object(i));for(var a=0,u=r.length;u>a;a++){var c=r[a],l=i[c];o(l,c,i)&&(s[c]=l)}return s},v.omit=function(e,t,n){if(v.isFunction(t))t=v.negate(t);else{var o=v.map(A(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(o,t)}}return v.pick(e,t,n)},v.defaults=w(v.allKeys,!0),v.create=function(e,t){var n=x(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),o=n.length;if(null==e)return!o;for(var r=Object(e),s=0;o>s;s++){var i=n[s];if(t[i]!==r[i]||!(i in r))return!1}return!0};var I=function(e,t,n,o){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var r=f.call(e);if(r!==f.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,a=t.constructor;if(i!==a&&!(v.isFunction(i)&&i instanceof i&&v.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],o=o||[];for(var u=n.length;u--;)if(n[u]===e)return o[u]===t;if(n.push(e),o.push(t),s){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!I(e[u],t[u],n,o))return!1}else{var c,l=v.keys(e);if(u=l.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(t,c)||!I(e[c],t[c],n,o))return!1}return n.pop(),o.pop(),!0};v.isEqual=function(e,t){return I(e,t)},v.isEmpty=function(e){return null==e?!0:O(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=m||function(e){return"[object Array]"===f.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&d.call(e,t)},v.noConflict=function(){return r._=s,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=k,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var o=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;e>r;r++)o[r]=t(r);return o},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=v.invert(B),F=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",o=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(r,t):e}};v.escape=F(B),v.unescape=F(M),v.result=function(e,t,n){var o=null==e?void 0:e[t];return void 0===o&&(o=n),v.isFunction(o)?o.call(e):o};var N=0;v.uniqueId=function(e){var t=++N+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(e){return"\\"+C[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var o=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,function(t,n,o,i,a){return s+=e.slice(r,a).replace(D,L),r=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":o?s+="'+\n((__t=("+o+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function (){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var i=new Function(t.variable||"obj","_",s)}catch(a){throw a.source=s,msos.console.debug("msos/base - _.template -> error:",a),a}var u=function(e){return msos.config.verbose&&msos.console.debug("msos/base - _.template -> called, for data:",e),i.call(this,e,v)},c=t.variable||"obj";return u.source="function ("+c+"){\n"+s+"}",u},v.chain=function(e){var t=v(e);return t._chain=!0,t};var U=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),U(this,n.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}}),v.each(["concat","join","slice"],function(e){var t=i[e];v.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v}),msos.console.debug("msos/base -> underscore.js now available.")}.call(this),function(){var e=function(t){return _.extend({},e.plugins,(new e.Storage).init(t))};e.version="0.4.2",e.utils={each:function(e,t,n){if(_.isArray(e)){for(var o=0;o<e.length;o++)if(t.call(n,e[o],o)===!1)return}else if(e)for(var r in e)if(t.call(n,e[r],r)===!1)return},tryEach:function(e,t,n,o){this.each(e,function(e,r){try{return t.call(o,e,r)}catch(s){if(_.isFunction(n))try{n.call(o,e,r,s)}catch(s){msos.console.error("msos/base - Basil.tryEach -> failed:",s)}}return void 0},this)},registerPlugin:function(t){e.plugins=_.extend(t,e.plugins)}},e.plugins={},e.options=_.extend({namespace:"msos_b45i1",storages:["local","cookie","session","memory"],expireDays:31},window.Basil?window.Basil.options:{}),e.Storage=function(){var t="b45i1"+(Math.random()+1).toString(36).substring(7),n={},o=function(e){return _.isArray(e)?e:_.isString(e)?[e]:[]},r=function(e,t){var n="";return _.isString(t)&&t.length&&(t=[t]),_.isArray(t)&&t.length&&(n=t.join(":")),n&&e?e+":"+n:n},s=function(e,t){return e?t.replace(new RegExp("^"+e+":"),""):t},i=function(e){return JSON.stringify(e)},a=function(e){return e?JSON.parse(e):null},u={engine:null,check:function(){try{window[this.engine].setItem(t,!0),window[this.engine].removeItem(t)}catch(e){return msos.console.warn("msos/base - Basil.check -> response:",e),!1}return!0},set:function(e,t,n){if(!e)throw Error("invalid key");window[this.engine].setItem(e,t)},get:function(e){return window[this.engine].getItem(e)},remove:function(e){window[this.engine].removeItem(e)},reset:function(e){for(var t,n=0;n<window[this.engine].length;n++)t=window[this.engine].key(n),e&&0!==t.indexOf(e)||(this.remove(t),n--)},keys:function(e){for(var t,n=[],o=0;o<window[this.engine].length;o++)t=window[this.engine].key(o),e&&0!==t.indexOf(e)||n.push(s(e,t));return n}};return n.local=_.extend({},u,{engine:"localStorage"}),n.session=_.extend({},u,{engine:"sessionStorage"}),n.memory={_hash:{},check:function(){return!0},set:function(e,t,n){if(!e)throw Error("invalid key");this._hash[e]=t},get:function(e){return this._hash[e]||null},remove:function(e){delete this._hash[e]},reset:function(e){for(var t in this._hash)e&&0!==t.indexOf(e)||this.remove(t)},keys:function(e){var t=[];for(var n in this._hash)e&&0!==n.indexOf(e)||t.push(s(e,n));return t}},n.cookie={check:function(){return navigator.cookieEnabled},set:function(e,t,n){if(!this.check())throw Error("cookies are disabled");if(n=n||{},!e)throw Error("invalid key");var o=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n.expireDays){var r=new Date;r.setTime(r.getTime()+24*n.expireDays*60*60*1e3),o+="; expires="+r.toGMTString()}if(n.domain&&n.domain!==document.domain){var s=n.domain.replace(/^\./,"");if(-1===document.domain.indexOf(s)||s.split(".").length<=1)throw Error("invalid domain");o+="; domain="+n.domain}n.secure===!0&&(o+="; secure"),document.cookie=o+"; path=/"},get:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n=encodeURIComponent(e),o=document.cookie?document.cookie.split(";"):[],r=o.length-1;r>=0;r--)if(t=o[r].replace(/^\s*/,""),0===t.indexOf(n+"="))return decodeURIComponent(t.substring(n.length+1,t.length));return null},remove:function(e){this.set(e,"",{expireDays:-1});for(var t=document.domain.split("."),n=t.length;n>=0;n--)this.set(e,"",{expireDays:-1,domain:"."+t.slice(-n).join(".")})},reset:function(e){for(var t,n,o=document.cookie?document.cookie.split(";"):[],r=0;r<o.length;r++)t=o[r].replace(/^\s*/,""),n=t.substr(0,t.indexOf("=")),e&&0!==n.indexOf(e)||this.remove(n)},keys:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n,o=[],r=document.cookie?document.cookie.split(";"):[],i=0;i<r.length;i++)t=r[i].replace(/^\s*/,""),n=decodeURIComponent(t.substr(0,t.indexOf("="))),e&&0!==n.indexOf(e)||o.push(s(e,n));return o}},{init:function(e){return this.setOptions(e),this},setOptions:function(t){this.options=_.extend({},this.options||e.options,t)},support:function(e){return n.hasOwnProperty(e)},check:function(e){return this.support(e)?n[e].check():!1},set:function(t,s,a){if(msos.config.verbose&&msos.console.debug("msos/base - Basil.set -> called, key: "+t),a=_.extend({},this.options,a),!(t=r(a.namespace,t)))return!1;s=a.raw===!0?s:i(s);var u=null;return e.utils.tryEach(o(a.storages),function(e,o){return n[e].set(t,s,a),u=e,!1},null,this),u?(e.utils.tryEach(o(a.storages),function(e,o){e!==u&&n[e].remove(t)},null,this),!0):!1},get:function(t,s){if(msos.config.verbose&&msos.console.debug("msos/base - Basil.get -> start, key: "+t),s=_.extend({},this.options,s),!(t=r(s.namespace,t)))return null;var i=null;return e.utils.tryEach(o(s.storages),function(e,o){return null!==i?!1:(i=n[e].get(t,s)||null,i=s.raw===!0?i:a(i),!0)},function(e,t,n){i=null},this),msos.config.verbose&&msos.console.debug("msos/base - Basil.get ->  done, key: "+t+", value:",i),i},remove:function(t,s){msos.config.verbose&&msos.console.debug("msos/base - Basil.remove -> called, key: "+t),s=_.extend({},this.options,s),(t=r(s.namespace,t))&&e.utils.tryEach(o(s.storages),function(e){n[e].remove(t)},null,this)},reset:function(t){msos.config.verbose&&msos.console.debug("msos/base - Basil.reset -> called."),t=_.extend({},this.options,t),e.utils.tryEach(o(t.storages),function(e){n[e].reset(t.namespace)},null,this)},keys:function(e){e=e||{};var t=[];for(var n in this.keysMap(e))t.push(n);return t},keysMap:function(t){t=_.extend({},this.options,t);var r={};return e.utils.tryEach(o(t.storages),function(o){e.utils.each(n[o].keys(t.namespace),function(e){r[e]=_.isArray(r[e])?r[e]:[],r[e].push(o)},this)},null,this),r}}},e.memory=(new e.Storage).init({storages:"memory",namespace:null,raw:!0}),e.cookie=(new e.Storage).init({storages:"cookie",namespace:null,raw:!0}),e.localStorage=(new e.Storage).init({storages:"local",namespace:null,raw:!0}),e.sessionStorage=(new e.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=e,msos.console.debug("msos/base -> basil.js now available.")}(),msos.basil=new window.Basil,
msos.config.verbose&&(msos.console.debug("msos/base -> storage availability,\n        cookies: "+msos.basil.check("cookie")+",\n   localStorage: "+msos.basil.check("local")+",\n sessionStorage: "+msos.basil.check("session")),msos.basil.get("last_script_exec"),msos.basil.set("last_script_exec",new Date)),function(e,t,n){"use strict";e[t]=n()}(msos,"verge",function(){"use strict";function e(e,t){var n={};return t=+t||0,n.right=e.right+t,n.left=e.left-t,n.bottom=e.bottom+t,n.top=e.top-t,n.width=n.right-n.left,n.height=n.bottom-n.top,n}var t={},n=void 0!==window&&window,o=void 0!==document&&document,r=o&&o.documentElement,s=n.matchMedia||n.msMatchMedia,i=s?function(e){return!!s.call(n,e).matches}:function(){return!1};return t.viewportW=function(){var e=r.clientWidth,t=n.innerWidth;return t>e?t:e},t.viewportH=function(){var e=r.clientHeight,t=n.innerHeight;return t>e?t:e},t.mq=i,t.matchMedia=s?function(){return s.apply(n,arguments)}:function(){return{}},t.viewport=function(){return{width:t.viewportW(),height:t.viewportH()}},t.scrollX=function(){return n.pageXOffset||r.scrollLeft},t.scrollY=function(){return n.pageYOffset||r.scrollTop},t.rectangle=function(t,n){return t=t&&!t.nodeType?t[0]:t,t&&1===t.nodeType?e(t.getBoundingClientRect(),n):!1},t.aspect=function(e){e=void 0===e?t.viewport():1===e.nodeType?t.rectangle(e):e;var n=e.height,o=e.width;return n="function"==typeof n?n.call(e):n,o="function"==typeof o?o.call(e):o,o/n},t.inX=function(e,n){var o=t.rectangle(e,n);return!!o&&o.right>=0&&o.left<=t.viewportW()},t.inY=function(e,n){var o=t.rectangle(e,n);return!!o&&o.bottom>=0&&o.top<=t.viewportH()},t.inViewport=function(e,n){var o=t.rectangle(e,n);return!!o&&o.bottom>=0&&o.right>=0&&o.top<=t.viewportH()&&o.left<=t.viewportW()},t}),Object.keys(msos.config.size_wide).map(function(e){return[e,msos.config.size_wide[e]]}).sort(function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0}).forEach(function(e){msos.config.size_array.push(e[0])}),msos.var_is_null=function(e){"use strict";return void 0===e?!0:null===e?!0:!1},msos.var_is_empty=function(e){"use strict";return msos.var_is_null(e)?!0:""===e?!0:!1},msos.do_nothing=function(e){"use strict";e.preventDefault(),e.stopPropagation()},msos.do_abs_nothing=function(e){"use strict";e.preventDefault(),e.stopImmediatePropagation()},msos.new_time=function(){"use strict";return(new Date).getTime()},msos.set_version=function(e,t,n){"use strict";var o=this;return o={major:e,minor:t,patch:n,toString:function(){return"v"+o.major+"."+o.minor+"."+o.patch}}},msos.gen_namespace=function(e){"use strict";var t=window,n=0;for(e=e.split("."),n=0;n<e.length;n+=1)t=t[e[n]]||(t[e[n]]={});return t},msos.generate_url_name=function(e){"use strict";var t,n=[],o="";return t=msos.purl(e).attr("path"),n=t.split("/"),o=n.slice(2).join(":"),o=o.replace(/[^0-9a-zA-Z]/g,"_")},msos.run_function_array=function(e){"use strict";var t="msos.run_func_array -> ",n=0;if(e=e||"missing",msos.console.debug(t+"start: "+e),!msos[e]||!_.isArray(msos[e]))return void msos.console.error(t+"for: "+e+", failed.");for(n=0;n<msos[e].length;n+=1){msos.console.debug(t+"index: "+n);try{msos[e][n]()}catch(o){msos.console.error(t+"for: "+e,o)}}msos[e]=[],msos.console.debug(t+" done: "+e)},msos.get_js_base=function(){"use strict";var e,t,n,o="msos.get_js_base -> ";if(msos.console.debug(o+"start."),e=document.getElementsByTagName("script"),t=e[e.length-1],n=t.src,n=n.slice(0,n.lastIndexOf("/")+1)||"",!n)throw new Error(o+"failed!");return msos.console.debug(o+"done, uri: "+n),n},msos.base_script_url=msos.get_js_base(),msos.resource_url=function(e,t){"use strict";return msos.base_script_url.replace(/\/msos\//,"/"+e+"/")+t},msos.set_locale=function(){"use strict";var e="msos.set_locale -> ",t=msos.config,n=t.storage.site_i18n,o=[];n.value&&(o=n.value.split(":")),msos.console.debug(e+"start, stored local: "+(n.value||"na")),t.locale=t.query.locale||o[0]||t.locale||msos.default_locale,t.culture=t.query.culture||o[1]||t.culture||t.locale,t.calendar=t.query.calendar||o[2]||t.calendar,msos.console.debug(e+" done, locale: "+t.locale+", culture: "+t.culture+", calendar: "+t.calendar)},msos.set_locale_storage=function(){"use strict";var e="msos.set_locale_storage -> ",t=msos.config.storage.site_i18n;msos.console.debug(e+"start."),t.value=msos.config.locale+":"+msos.config.culture+":"+msos.config.calendar,msos.basil.set(t.name,t.value),msos.console.debug(e+"done, value: "+t.value),t.set=!0},msos.get_viewport=function(e){"use strict";var t=msos.verge.viewport();return window===e&&(msos.config.view_port=t),msos.console.debug("msos.get_viewport -> viewport:",t),t},msos.browser_orientation=function(){"use strict";var e=msos.config.view_orientation,t=msos.get_viewport(window),n="msos.browser_orientation -> ";if(void 0!==window.orientation){switch(window.orientation){case 0:e.layout="portrait",e.direction="normal",e.numeric=0;break;case-90:e.layout="landscape",e.direction="right",e.numeric=-90;break;case 90:e.layout="landscape",e.direction="left",e.numeric=90;break;case 180:e.layout="portrait",e.direction="flipped",e.numeric=180;break;default:e.layout=t.width/t.height<1.1?"portrait":"landscape",e.direction="normal",e.numeric=t.width/t.height<1.1?0:90}e.method="window.orientation("+window.orientation+")"}else e.layout=t.width/t.height<1.1?"portrait":"landscape",e.direction="normal",e.method="document.documentElement",e.numeric=t.width/t.height<1.1?0:90;return msos.console.debug(n+"layout: "+e.layout+", dir: "+e.direction+" for "+e.method),e},msos.browser_current=function(){"use strict";var e="msos.browser_current -> ",t=[];return window.focus||t.push("window.focus"),document.images||t.push("document.images"),document.styleSheets||t.push("document.styleSheets"),document.open||t.push("document.open"),document.close||t.push("document.close"),window.document.write||t.push("document.write"),document.addEventListener||t.push("document.addEventListener"),0===t.length?(msos.console.debug(e+"browser is current"),void(msos.config.browser.current=!0)):(msos.console.warn(e+"browser does not support: "+t.join(", ")+" -> for doctype "+msos.config.doctype),"xhtml5"===msos.config.doctype&&"document.write"===t[2]?void(msos.config.browser.current=!0):(msos.console.error(e+"browser is not current"),void(msos.config.browser.current=!1)))},msos.browser_touch=function(){"use strict";var e="msos.browser_touch -> ",t="",n=document.createElement("div"),o=0;for(t in msos.config.touch)msos.config.touch[t]===!0?o+=1:o-=1;try{document.createEvent("TouchEvent"),o+=1}catch(r){o-=1}"ontouchstart"in n?o+=1:(n.setAttribute("ontouchstart","return;"),o+="function"==typeof n.ontouchstart?1:-1),n=null,o>0&&(msos.config.browser.touch=!0),msos.console.debug(e+"touch is "+(msos.config.browser.touch?"":"not")+" available, ref. ("+String(o)+")")},msos.browser_mobile=function(){"use strict";var e="msos.browser_mobile -> ",t=0,n=[];msos.var_is_empty(screen.height)||msos.var_is_empty(screen.width)||(t=screen.height>screen.width?screen.height:screen.width),t&&481>t&&n.push("screen"),msos.config.browser.touch&&n.push("touch"),msos.config.orientation&&n.push("orientation"),msos.config.orientation_change&&n.push("orientation_change"),msos.config.pixel_ratio>1&&n.push("pixel_ratio"),n.length>2&&(msos.config.browser.mobile=!0,msos.config.mobile=!0),msos.console.debug(e+"browser is "+(msos.config.browser.mobile?"mobile":"not mobile")+(n.length>0?", flag(s): "+n.join(", "):"")),(msos.config.query.mobile===!0||msos.config.query.mobile===!1)&&(msos.config.browser.mobile!==msos.config.query.mobile&&msos.console.debug(e+"force mobile setting: "+msos.config.query.mobile),msos.config.mobile=msos.config.query.mobile?!0:!1)},msos.browser_advanced=function(){"use strict";var e="msos.browser_advanced -> ",t=document.createElement("body"),n=t.style,o=[],r=["Webkit","Moz","O","ms","Khtml"],s=null,i=null;return s=function(e){var t=e.charAt(0).toUpperCase()+e.substr(1),s=(e+" "+r.join(t+" ")+t).split(" "),i="";for(i in s)if(void 0!==n[i])return!0;return o.push(e),!1},msos.config.css_pseudoelement=!!s("content"),msos.config.boxshadow=!!s("boxShadow")&&!window.blackberry,msos.config.transform=!!s("Transform"),i=function(){var e=0;for(e=0;e<r.length;e+=1)if(window[r[e]+"WebSocket"])return!0;return"WebSocket"in window},msos.config.websocket=i(),msos.config.scrolltop||o.push("scrollTop"),t=null,o[0]?(msos.console.debug(e+"browser is not advanced, missing: "+o.join(" ")),msos.config.browser.advanced=!1,!1):(msos.console.debug(e+"browser is advanced."),msos.config.browser.advanced=!0,!0)},msos.browser_editable=function(){"use strict";return document.designMode||msos.body.contentEditable?void 0===document.execCommand?void(msos.config.browser.editable=!1):(msos.console.debug("msos.browser_editable -> browser supports content editing"),void(msos.config.browser.editable=!0)):void(msos.config.browser.editable=!1)},msos.browser_direction=function(){"use strict";var e="",t=null;t=function(){var e=document.createElement("p"),t=document.createElement("span"),n="";return e.style.margin="0 0 0 0",e.style.padding="0 0 0 0",e.style.textAlign="",t.innerHTML="X",e.appendChild(t),document.body.appendChild(e),n=t.offsetLeft<e.offsetWidth-(t.offsetLeft+t.offsetWidth)?"ltr":"rtl",msos.body.removeChild(e),msos.config.verbose&&msos.console.debug("msos.browser_direction -> by build_test: "+n),n},e=(msos.body.dir||document.documentElement.dir||t()||"ltr").toLowerCase(),msos.config.browser.direction=e},msos.browser_preloading=function(){"use strict";var e=msos.config.script_preload,t=document.createElement("script"),n=navigator.userAgent;e.async="async"in t?!0:!1,e.defer="defer"in t?!0:!1,e.explicit="boolean"==typeof t.preload?!0:!1,e.available=e.explicit?!0:t.readyState&&"uninitialized"===t.readyState?!0:!1,e.ordered=e.available||t.async!==!0?!1:!0,e.xhr_cache=e.available||!e.ordered&&-1===n.indexOf("Opera")&&-1===n.indexOf("Gecko")?!0:!1,t=null},msos.get_head=function(e){"use strict";var t=e.document,n=t.documentElement,o=t.head||t.getElementsByTagName("head")[0];return o||(o=t.createElement("head"),n.insertBefore(o,n.firstChild)),o},msos.create_node=function(e,t,n){"use strict";n||(n=window);var o=n.document.createElement(e),r="";msos.config.verbose&&msos.console.debug("msos.create_node -> called for: "+e,t);for(r in t)o.setAttribute(r,t[r]);return o},msos.loader=function(e){"use strict";var t="msos.loader",n=this,o=msos.purl().attr("file"),r=0;e||(e=window),e.msos||(e.msos={}),e.name||(e.name=o.replace(/[^0-9a-zA-Z]/g,"_")||"base_win"),e.msos.registered_files||(e.msos.registered_files={js:{},css:{},ico:{},ajax:{}}),msos.console.debug(t+" -> start for window: "+e.name),this.doc_head=msos.get_head(e),this.toggle_css=[],this.delay_css=0,this.deferred_array=[],this.deferred_done=!0,this.add_resource_onload=[],this.load=function(e,o,r,s){var i=o.split("?")[0],a=i.substr(i.lastIndexOf(".")+1),u=/^js|css|ico$/,c=" - load -> ",l=null;return msos.config.verbose&&msos.console.debug(t+c+"start."),s=s||{},r||(r=a||"na"),u.test(r)?(n.check(e,o,r)?msos.console.debug(t+c+"already loaded: "+e+", url: "+o):(l=function(){n.resource(e,o,r,s)},s.defer&&"defer"===s.defer?msos.config.script_preload.ordered?(l(),msos.console.debug(t+c+"browser deferred file: "+o)):(n.deferred_done===!0?(n.deferred_done=!1,l()):n.deferred_array.push(l),msos.console.debug(t+c+"deferred file: "+o+", queue: "+n.deferred_array.length)):"css"===r?(setTimeout(l,n.delay_css),n.delay_css+=5,msos.console.debug(t+c+"css file: "+o+", delay: "+n.delay_css)):(l(),msos.console.debug(t+c+"file: "+o))),void(msos.config.verbose&&msos.console.debug(t+c+"done!"))):void msos.console.error(t+c+"missing or invalid: "+r)},this.check=function(o,s,i){var a=n.toggle_css,u=!1,c=" - check -> ";if(msos.console.debug(t+c+"start."),e.msos.registered_files[i]&&e.msos.registered_files[i][o]&&(u=!0),"css"===i&&a.length>0){for(r=0;r<a.length;r+=1)e.msos.registered_files.css[a[r]]&&(e.msos.registered_files.css[a[r]].disabled=!0);for(e.msos.registered_files.css[o]&&(e.msos.registered_files.css[o].disabled=!1,msos.console.debug(t+c+"set active: "+s)),r=0;r<n.add_resource_onload.length;r+=1)n.add_resource_onload[r]()}return msos.console.debug(t+c+"done, already loaded (t/f): "+(u?"true":"false")+" for "+o),u},this.init_create_node=function(n,o,r,s){var i=null,a=" - init_create_node -> ",u={},c="";if(msos.config.verbose&&msos.console.debug(t+a+"start."),msos.config.cache===!1&&(o+=(/\?.*$/.test(o)?"&_":"?_")+~~(1e9*Math.random())+"="),"js"===r?u={id:n,type:"text/javascript",src:o,charset:"utf-8"}:"css"===r?u={id:n,type:"text/css",rel:"stylesheet",href:o,media:"all"}:"ico"===r&&(u={id:n,type:"image/x-icon",rel:"shortcut icon",href:o}),void 0!==s&&"object"==typeof s)for(c in s)u[c]=s[c];return"js"===r?(i=msos.create_node("script",u,e),"defer"===s.defer?i.async=!1:i.async=!0):"css"===r?i=msos.create_node("link",u,e):"ico"===r&&(i=msos.create_node("link",u,e)),i.msos_load_state="loading","js"===r&&msos.config.script_onerror&&(i.onerror=function(e){msos.console.error(t+" -> failed for: "+n,e)}),msos.config.verbose&&msos.console.debug(t+a+"done!"),i},this.resource=function(o,r,s,i){var a=n.init_create_node(o,r,s,i)||null,u=" - resource -> ",c=function(){var e,o=0;if("loaded"!==this.msos_load_state&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState||"uninitialized"===this.readyState)){for(msos.config.verbose&&msos.console.debug(t+u+"loaded, name: "+this.id),this.msos_load_state="loaded",o=0;o<n.add_resource_onload.length;o+=1)n.add_resource_onload[o]();"defer"===this.getAttribute("defer")&&(n.deferred_array.length?(e=n.deferred_array.shift())():n.deferred_done=!0),this.onload=this.onreadystatechange=null}return!0};msos.console.debug(t+u+"start, type: "+s+", name: "+o),null!==a&&(a.onload=a.onreadystatechange=c,n.doc_head.appendChild(a),e.msos.registered_files[s][o]=a,msos.console.debug(t+u+"done!"))},msos.console.debug(t+" -> done!")},msos.set_environment=function(){"use strict";var e="msos.set_environment -> ",t=msos.config.storage;msos.console.debug(e+"start"),t.site_pref.value=msos.basil.get(t.site_pref.name),t.site_i18n.value=msos.basil.get(t.site_i18n.name),t.site_bdwd.value=msos.basil.get(t.site_bdwd.name),msos.browser_current(),msos.browser_advanced(),msos.browser_editable(),msos.browser_orientation(),msos.browser_touch(),msos.browser_mobile(),msos.browser_preloading(),msos.config.verbose?msos.console.debug(e+"done, browser env: ",msos.config.browser):msos.console.debug(e+"done!")},msos.calc_display_size=function(){"use strict";var e="",t=msos.config.view_port,n=0,o=0,r=0,s="",i=0;msos.var_is_empty(t.width)||0===t.width||(n=t.width),msos.var_is_empty(screen.width)||0===screen.width||(o=screen.width),r=n||o;for(s in msos.config.size_wide)i=msos.config.size_wide[s]+.01*msos.config.size_wide[s],r>i&&(e?msos.config.size_wide[e]<msos.config.size_wide[s]&&(e=s):e=s);return msos.console.debug("msos.calc_display_size -> calculated: "+e+", viewport w: "+t.width+", screen w: "+screen.width),e},msos.get_display_size=function(e){"use strict";var t="msos.get_display_size -> ",n=msos.config.storage.site_pref.value,o=msos.config.view_orientation.layout,r=[],s="";msos.console.debug(t+"start, resize: "+(e?"true":"false")),n?(r=n.split(":"),s="portrait"===o?r[0]||"":r[1]||"",msos.console.debug(t+"stored value detected: "+n)):(r[0]="unknown",r[1]="unknown"),r[2]=o,("unknown"===s||e)&&(s=""),msos.config.size=msos.config.query.size||s||msos.calc_display_size(),msos.config.query.size&&msos.console.info(t+"NOTE: size set by input!"),"portrait"===o?r[0]=msos.config.size:r[1]=msos.config.size,n=r.join(":"),msos.config.storage.site_pref.value=n,msos.console.debug(t+"done: "+msos.config.size+", for "+o)},msos.css_loader=function(e,t){"use strict";var n="msos.css_loader -> ",o=null,r="",s="",i=0;for(msos.console.debug(n+"start."),o=new msos.loader(t),i=0;i<e.length;i+=1)s=e[i],r=msos.generate_url_name(s),o.load(r,s,"css");msos.console.debug(n+"done!")},msos.script_loader=function(e){"use strict";var t="msos.script_loader -> ",n=null,o="",r="",s=0;for(msos.console.debug(t+"start."),n=new msos.loader,s=0;s<e.length;s+=1)r=e[s],o=msos.generate_url_name(r),n.load(o,r,"js",{defer:"defer"});msos.console.debug(t+"done!")},msos.set_environment(),msos.set_locale(),msos.get_display_size(),msos.console.info("msos/base -> done!"),msos.console.timeEnd("base");
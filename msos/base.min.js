var msos={default_locale:document.getElementsByTagName("html")[0].getAttribute("lang")||"en",default_translate:"fr",default_country:{en:"US",fr:"FR",de:"DE"},default_keyboard_locales:["en","fr","de","es"],base_site_url:document.domain?"//"+document.domain:"",base_script_url:document.currentScript&&document.currentScript.src?document.currentScript.src:"",base_msos_folder:"",base_config_url:"",base_images_url:"",body:null,head:null,html:null,docl:null,console:{queue:[],remote:[]},ajax_loading_kbps:{},deferred_css:[],deferred_scripts:[],dom:{},form_inputs:null,form_validate:null,html_inputs:["text","file","password","textarea","radio","checkbox","select"],html5_attributes:["autocomplete","autofocus","list","placeholder","max","min","maxlength","multiple","pattern","required","step"],html5_inputs:["search","tel","url","email","datetime","date","month","week","time","datetime-local","number","range","color"],i18n_order:[],i18n_queue:0,log_methods:["error","warn","info","debug","time","timeEnd","log","assert","dir","clear","profile","profileEnd","trace"],onload_func_pre:[],onload_func_start:[],onload_functions:[],onload_func_done:[],onload_func_post:[],ondisplay_size_change:[],onorientationchange_functions:[],onresize_functions:[],pending_file_loads:[],record_times:{},registered_files:{js:{},css:{},ico:{},ajax:{}},registered_folders:{msos:"",jquery:"",apps:""},registered_modules:{msos:!1},registered_templates:{},registered_tools:{},require_attempts:0,require_deferred:0,require_queue:0};!function(){"use strict";var e=new RegExp("mobilesiteos"),t=new RegExp("ngm");if(msos.base_script_url=msos.base_script_url.slice(0,msos.base_script_url.lastIndexOf("/")+1)||"",!msos.base_site_url)throw new Error("msos.base_site_url must be set manually.");if(!msos.base_script_url)throw new Error("msos.base_script_url must be set manually.");if(e.test(msos.base_script_url)&&(msos.base_msos_folder="mobilesiteos"),t.test(msos.base_script_url)&&(msos.base_msos_folder="ngm"),!msos.base_msos_folder)throw new Error("msos.base_msos_folder must be set manually.")}(),msos.config={console:!1,console_alert:!1,console_remote:!1,clear_storage:!1,debug:!1,debug_css:!1,debug_output:!1,debug_script:!1,debug_disable:!1,mobile:!1,verbose:!1,visualevent:!1,run_ads:!1,run_size:!1,run_analytics:!1,run_onerror:!1,run_overflowscroll:!1,run_social:!1,run_translate:!1,run_amazon_prev:!1,browser:{ok:!1,advanced:!1,current:!1,direction:"",editable:!1,mobile:!1,touch:!1,nativeoverflow:!1,scalable:!1},cache:!0,color:{bk:"black",wh:"white",dg:"darkgrey",lg:"lightgrey",sl:"salmon",lb:"lightblue",rd:"red",be:"beige"},connection:{type:0,bandwidth:10,metered:!1},storage:{site_pref:{name:"msos_site_pref",value:"",set:!1},site_i18n:{name:"msos_site_i18n",value:"",set:!1},site_cltl:{name:"msos_site_cltl",value:"",set:!1},site_bdwd:{name:"msos_site_bdwd",value:"",set:!1},site_ajax:{name:"msos_site_ajax",value:"",set:!1},site_tabs:{name:"msos_site_tab_"},site_sdmn:{name:"msos_site_sdm_"},site_popu:{name:"msos_site_pop_"}},debugging:["console","debug","debug_script","debug_css","debug_output","mobile","verbose","visualevent","run_ads","run_size","run_analytics","run_onerror","run_overflowscroll","run_social","run_translate","run_amazon_prev","use_date","use_color","use_number","use_range","clear_storage"],doctype:window.document.getElementsByTagName("html")[0].getAttribute("xmlns")?"xhtml5":"html5",file:{file:"object"==typeof window.File,reader:"function"==typeof window.FileReader,list:"object"==typeof window.FileList,blob:"object"==typeof window.Blob},force_shim:{inputs:{date:!0,color:!0,number:!0,range:!0,time:!1,month:!1,week:!1},media:{video:!1,audio:!1}},google:{no_translate:{},hide_tooltip:{},maps_api_key:""},hellojs_redirect:"/"+msos.base_msos_folder+"/hello/redirect.html",i18n:{select_trans_msos:{},select_kbrds_msos:{}},intl:{select_culture:{},select_calendar:{}},locale:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),culture:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),calendar:"standard",json:"object"==typeof JSON&&"function"==typeof JSON.stringify&&"function"==typeof JSON.parse,jquery_ui_theme:"mobilesiteos",jquery_ui_avail:{base:"Base (generic)",lightness:"UI-Lightness",mobilesiteos:"MobileSiteOS"},keyboard:"",keyboard_locales:[].concat(msos.default_keyboard_locales),gesture:function(){"use strict";var e=document.createElement("div");return e.setAttribute("ongesturestart","return;"),"function"==typeof e.ongesturestart}(),onerror_uri:msos.base_site_url+"/"+msos.base_msos_folder+"/onerror.html",orientation:"number"==typeof window.orientation,orientation_change:"onorientationchange"in window,overflow_scrolling:{webkitoverflowscrolling:"WebkitOverflowScrolling"in document.documentElement.style,msoverflowstyle:"msOverflowStyle"in document.documentElement.style},page_uri:window.location.href,pixel_ratio:window.devicePixelRatio||1,popups_blocked:!1,query:{},script_onerror:function(){"use strict";var e=document.createElement("script");return e.type="text/javascript",e.setAttribute("onerror","return;"),"function"==typeof e.onerror?!0:"onerror"in e}(),script_preload:{available:!1,async:!1,defer:!1,explicit:!1,ordered:!1,xhr_cache:!1},scrolltop:void 0!==window.pageXOffset||void 0!==document.documentElement.scrollTop,size:"",size_folder:"css",size_array:[],size_wide:{desktop:1080,large:960,medium:760,small:640,tablet:480,phone:320},social:{},touch:{ontouchstart:"ontouchstart"in window,ontouchend:"ontouchend"in document,ontouchmove:"ontouchmove"in document,object:"object"==typeof window.Touch,event:void 0!==window.TouchEvent,create:"createTouch"in document,doc_touch:"DocumentTouch"in window&&document instanceof DocumentTouch},view_orientation:{layout:"",direction:"",method:"",numeric:0},view_port:{height:0,width:0,delta_width:0,delta_heigth:0}},function(e){"use strict";function t(e,t){for(var n=decodeURI(e),o=p[t?"strict":"loose"].exec(n),r={attr:{},param:{},seg:{}},i=14;i--;)r.attr[f[i]]=o[i]||"";return r.param.query=s(r.attr.query),r.param.fragment=s(r.attr.fragment),r.seg.path=r.attr.path.replace(/^\/+|\/+$/g,"").split("/"),r.seg.fragment=r.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),r.attr.base=r.attr.host?(r.attr.protocol?r.attr.protocol+"://"+r.attr.host:r.attr.host)+(r.attr.port?":"+r.attr.port:""):"",r}function n(e,t){if(0===e[t].length)return e[t]={},e[t];var n,o={};for(n in e[t])e[t].hasOwnProperty(n)&&(o[n]=e[t][n]);return e[t]=o,o}function o(e,t,r,s){var i=e.shift();if(i){var a=t[r]=t[r]||[];"]"==i?u(a)?""!==s&&a.push(s):"object"==typeof a?a[l(a).length]=s:a=t[r]=[t[r],s]:~i.indexOf("]")?(i=i.substr(0,i.length-1),!g.test(i)&&u(a)&&(a=n(t,r)),o(e,a,i,s)):(!g.test(i)&&u(a)&&(a=n(t,r)),o(e,a,i,s))}else u(t[r])?t[r].push(s):"object"==typeof t[r]?t[r]=s:"undefined"==typeof t[r]?t[r]=s:t[r]=[t[r],s]}function r(e,t,n){if(~t.indexOf("]")){var r=t.split("[");o(r,e,"base",n)}else{if(!g.test(t)&&u(e.base)){var s,a={};for(s in e.base)e.base.hasOwnProperty(s)&&(a[s]=e.base[s]);e.base=a}""!==t&&i(e.base,t,n)}return e}function s(e){return c(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var o=t.indexOf("="),s=a(t),i=t.substr(0,s||o),c=t.substr(s||o,t.length);return c=c.substr(c.indexOf("=")+1,c.length),""===i&&(i=t,c=""),r(e,i,c)},{base:{}}).base}function i(e,t,n){var o=e[t];"undefined"==typeof o?e[t]=n:u(o)?o.push(n):e[t]=[o,n]}function a(e){for(var t,n,o=e.length,r=0;o>r;++r)if(n=e[r],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return r}function c(e,t){for(var n=0,o=e.length>>0,r=arguments[2];o>n;)n in e&&(r=t.call(void 0,r,e[n],n,e)),++n;return r}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function d(e,n){return 1===arguments.length&&e===!0&&(n=!0,e=void 0),n=n||!1,e=e||window.location.toString(),{data:t(e,n),attr:function(e){return e=m[e]||e,"undefined"!=typeof e?this.data.attr[e]:this.data.attr},param:function(e){return"undefined"!=typeof e?this.data.param.query[e]:this.data.param.query},fparam:function(e){return"undefined"!=typeof e?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return"undefined"==typeof e?this.data.seg.path:(e=0>e?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return"undefined"==typeof e?this.data.seg.fragment:(e=0>e?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var f=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],m={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},g=/^[0-9]+$/;e.parse_string=s,e.purl=d}(msos),msos.parse_query=function(){"use strict";var e=msos.purl(),t="",n="",o=e.param();for(t in o)o.hasOwnProperty(t)&&(o[t]=o[t].replace(/[^0-9a-zA-Z_]/g,"_"),"true"===o[t]&&(o[t]=!0),"false"===o[t]&&(o[t]=!1));for(n in msos.config)msos.config.hasOwnProperty(n)&&(o[n]||o[n]===!1)&&(msos.config[n]=o[n]);return msos.config.verbose&&(msos.config.debug=!0),o},msos.config.query=msos.parse_query(),function(e){"use strict";function t(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function n(n){e[n]=function(){if("error"===n||"warn"===n||"info"===n||msos.config.debug){var r,i=msos.config,a=i.query.debug_filter||"",c=0,u=s.apply(arguments),l=u[0]&&"string"==typeof u[0]?u[0].replace(/\W/g,"_"):"missing name or input",d=o[n]||o.log,f=[],m=[];if("debug"===n&&i.verbose&&a&&/^[0-9a-zA-Z.]+$/.test(a)&&(a=new RegExp("^"+a.replace(".",".")),!l.match(a)))return void msos.console.warn("msos.console -> no match for debug filter: "+a);for("time"!==n&&"timeEnd"!==n||(msos.record_times[l+"_"+n]=(new Date).getTime()),c=0;c<u.length;c+=1)m.push(t(u[c]));(i.console||i.console_alert||i.console_remote)&&(f=[n].concat(m),"time"!==n&&"timeEnd"!==n||f.push(msos.record_times[l+"_"+n]),e.queue.push(f),i.console_remote&&e.remote.push(f)),o&&(d.apply?d.apply(o,m):(r=msos.obj_stringify(u,!0),d(r)))}}}var o=window.console,r=msos.log_methods.length-1,s=Array.prototype.slice,i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profiles","profileEnd","show","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],a=i.pop(),c=function(e){return function(){msos.console.warn("msos.console -> method: "+e+" is na!")}};for(o.memory||(o.memory={});a;)o[a]||(o[a]=c(a)),a=i.pop();for(;r>=0;)n(msos.log_methods[r]),r-=1}(msos.console),msos.set_version=function(e,t,n){"use strict";var o=this;return o={major:e,minor:t,patch:n,toString:function(){return"v"+o.major+"."+o.minor+"."+o.patch}}},msos.console.info("msos/base -> start, (/mobilesiteos/msos/base.min.js file), "+new msos.set_version(17,6,23)),msos.console.time("base"),msos.console.info("msos/base -> settings,\n     msos.base_site_url: "+msos.base_site_url+",\n     msos.base_script_url: "+msos.base_script_url+",\n     msos.base_msos_folder: "+msos.base_msos_folder+",\n     msos.config.query:",msos.config.query),msos.site_specific=function(e){"use strict";var t=0,n=msos.config.debugging,o=msos.config.query,r="";for(t=0;t<n.length;t+=1)r=n[t],"boolean"==typeof e[r]&&(msos.config[r]=e[r]),"boolean"==typeof o[r]&&(msos.config[r]=o[r])},msos.obj_type=function(e){"use strict";return Object.prototype.toString.call(e).match(/^\[object (.*)\]$/)[1]},msos.obj_to_string=function(e){"use strict";return"string"!=typeof e?String(e)||"":e},msos.obj_stringify=function(e,t){"use strict";var n="",o=0,r=msos.obj_type(e),s=[],i=[];if("String"===r)n=e.replace(/\n/g,"\\n").replace(/"/g,'\\"');else if("Array"===r){for(n="[",o=0;o<e.length;o+=1)s.push(msos.obj_stringify(e[o],t));n+=s.join(", ")+"]"}else if("Object"===r){n="{";for(o in e)e.hasOwnProperty(o)&&i.push(o);for(o=0;o<i.length;o+=1)s.push(msos.obj_stringify(i[o])+": "+msos.obj_stringify(e[i[o]],t));n+=s.join(", ")+"}"}else if("Number"===r)n=e+"";else if("Boolean"===r)n=e?"true":"false";else if("Function"===r)n=e.toString();else if(null===e)n="null";else if(void 0===e)n="undefined";else if(void 0===t){n=r+"{\n";for(o in e)e.hasOwnProperty(o)&&i.push(o);for(o=0;o<i.length;o+=1)s.push(i[o]+": "+msos.obj_stringify(e[i[o]],!0));n+=s.join(",\n")+"\n}"}else n=msos.obj_to_string(e);return n},msos.remote_origin="https://jsconsole.com",msos.remoteWindow=null,msos.remoteFrame=null,msos.use_remote_debugging=function(){"use strict";msos.remoteFrame=document.createElement("iframe"),msos.remoteFrame.style.display="none",msos.remoteFrame.src=msos.remote_origin+"/remote.html?"+msos.config.query.console_remote,document.documentElement.appendChild(msos.remoteFrame),msos.remoteFrame.onload=function(){msos.remoteWindow=msos.remoteFrame.contentWindow,msos.remoteWindow.postMessage("__init__",msos.remote_origin),msos.remoteWindow.postMessage(JSON.stringify({response:"Connection established: "+window.location.toString()+"\n"+navigator.userAgent,type:"info"}),msos.remote_origin)}},msos.config.query.console_remote&&/^msos_/.test(msos.config.query.console_remote)&&msos.use_remote_debugging(),function(){"use strict";function e(e){function t(t,n,o,r,s,i){for(;s>=0&&i>s;s+=e){var a=r?r[s]:s;o=n(o,t[a],a,t)}return o}return function(n,o,r,s){o=b(o,s,4);var i=!S(n)&&_.keys(n),a=(i||n).length,c=e>0?0:a-1;return arguments.length<3&&(r=n[i?i[c]:c],c+=e),t(n,o,r,i,c,a)}}function t(e){return function(t,n,o){n=y(n,o);for(var r=E(t),s=e>0?0:r-1;s>=0&&r>s;s+=e)if(n(t[s],s,t))return s;return-1}}function n(e,t,n){return function(o,r,s){var i=0,a=E(o);if("number"==typeof s)e>0?i=s>=0?s:Math.max(s+a,i):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(o,r),o[s]===r?s:-1;if(r!==r)return s=t(l.call(o,i,a),_.isNaN),s>=0?s+i:-1;for(s=e>0?i:a-1;s>=0&&a>s;s+=e)if(o[s]===r)return s;return-1}}function o(e,t){var n=C.length,o=e.constructor,r=_.isFunction(o)&&o.prototype||a,s="constructor";for(_.has(e,s)&&!_.contains(t,s)&&t.push(s);n--;)s=C[n],s in e&&e[s]!==r[s]&&!_.contains(t,s)&&t.push(s)}var r=this,s=r._,i=Array.prototype,a=Object.prototype,c=Function.prototype,u=i.push,l=i.slice,d=a.toString,f=a.hasOwnProperty,m=Array.isArray,p=Object.keys,g=c.bind,h=Object.create,v=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):r._=_,_.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)};case 4:return function(n,o,r,s){return e.call(t,n,o,r,s)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return null==e?_.identity:_.isFunction(e)?b(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return y(e,t,1/0)};var w=function(e,t){return function(n){var o=arguments.length;if(2>o||null==n)return n;for(var r=1;o>r;r++)for(var s=arguments[r],i=e(s),a=i.length,c=0;a>c;c++){var u=i[c];t&&void 0!==n[u]||(n[u]=s[u])}return n}},x=function(e){if(!_.isObject(e))return{};if(h)return h(e);v.prototype=e;var t=new v;return v.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,E=k("length"),S=function(e){var t=E(e);return"number"==typeof t&&t>=0&&j>=t};_.each=_.forEach=function(e,t,n){t=b(t,n);var o,r;if(S(e))for(o=0,r=e.length;r>o;o++)t(e[o],o,e);else{var s=_.keys(e);for(o=0,r=s.length;r>o;o++)t(e[s[o]],s[o],e)}return e},_.map=_.collect=function(e,t,n){t=y(t,n);for(var o=!S(e)&&_.keys(e),r=(o||e).length,s=Array(r),i=0;r>i;i++){var a=o?o[i]:i;s[i]=t(e[a],a,e)}return s},_.reduce=_.foldl=_.inject=e(1),_.reduceRight=_.foldr=e(-1),_.find=_.detect=function(e,t,n){var o;return o=S(e)?_.findIndex(e,t,n):_.findKey(e,t,n),void 0!==o&&-1!==o?e[o]:void 0},_.filter=_.select=function(e,t,n){var o=[];return t=y(t,n),_.each(e,function(e,n,r){t(e,n,r)&&o.push(e)}),o},_.reject=function(e,t,n){return _.filter(e,_.negate(y(t)),n)},_.every=_.all=function(e,t,n){t=y(t,n);for(var o=!S(e)&&_.keys(e),r=(o||e).length,s=0;r>s;s++){var i=o?o[s]:s;if(!t(e[i],i,e))return!1}return!0},_.some=_.any=function(e,t,n){t=y(t,n);for(var o=!S(e)&&_.keys(e),r=(o||e).length,s=0;r>s;s++){var i=o?o[s]:s;if(t(e[i],i,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,o){return S(e)||(e=_.values(e)),("number"!=typeof n||o)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=l.call(arguments,2),o=_.isFunction(t);return _.map(e,function(e){var r=o?t:e[t];return null==r?r:r.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var o,r,s=-(1/0),i=-(1/0);if(null==t&&null!=e){e=S(e)?e:_.values(e);for(var a=0,c=e.length;c>a;a++)o=e[a],o>s&&(s=o)}else t=y(t,n),_.each(e,function(e,n,o){r=t(e,n,o),(r>i||r===-(1/0)&&s===-(1/0))&&(s=e,i=r)});return s},_.min=function(e,t,n){var o,r,s=1/0,i=1/0;if(null==t&&null!=e){e=S(e)?e:_.values(e);for(var a=0,c=e.length;c>a;a++)o=e[a],s>o&&(s=o)}else t=y(t,n),_.each(e,function(e,n,o){r=t(e,n,o),(i>r||r===1/0&&s===1/0)&&(s=e,i=r)});return s},_.shuffle=function(e){for(var t,n=S(e)?e:_.values(e),o=n.length,r=Array(o),s=0;o>s;s++)t=_.random(0,s),t!==s&&(r[s]=r[t]),r[t]=n[s];return r},_.sample=function(e,t,n){return null==t||n?(S(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=y(t,n),_.pluck(_.map(e,function(e,n,o){return{value:e,index:n,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,o=t.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(o>n||void 0===o)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,o){var r={};return n=y(n,o),_.each(t,function(o,s){var i=n(o,s,t);e(r,o,i)}),r}};_.groupBy=O(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=O(function(e,t,n){e[n]=t}),_.countBy=O(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?l.call(e):S(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:S(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=y(t,n);var o=[],r=[];return _.each(e,function(e,n,s){(t(e,n,s)?o:r).push(e)}),[o,r]},_.first=_.head=_.take=function(e,t,n){return null!=e?null==t||n?e[0]:_.initial(e,e.length-t):void 0},_.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t)):void 0},_.rest=_.tail=_.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var T=function(e,t,n,o){for(var r=[],s=0,i=o||0,a=E(e);a>i;i++){var c=e[i];if(S(c)&&(_.isArray(c)||_.isArguments(c))){t||(c=T(c,t,n));var u=0,l=c.length;for(r.length+=l;l>u;)r[s++]=c[u++]}else n||(r[s++]=c)}return r};_.flatten=function(e,t){return T(e,t,!1)},_.without=function(e){return _.difference(e,l.call(arguments,1))},_.uniq=_.unique=function(e,t,n,o){_.isBoolean(t)||(o=n,n=t,t=!1),null!=n&&(n=y(n,o));for(var r=[],s=[],i=0,a=E(e);a>i;i++){var c=e[i],u=n?n(c,i,e):c;t?(i&&s===u||r.push(c),s=u):n?_.contains(s,u)||(s.push(u),r.push(c)):_.contains(r,c)||r.push(c)}return r},_.union=function(){return _.uniq(T(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,o=0,r=E(e);r>o;o++){var s=e[o];if(!_.contains(t,s)){for(var i=1;n>i&&_.contains(arguments[i],s);i++);i===n&&t.push(s)}}return t},_.difference=function(e){var t=T(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,E).length||0,n=Array(t),o=0;t>o;o++)n[o]=_.pluck(e,o);return n},_.object=function(e,t){for(var n={},o=0,r=E(e);r>o;o++)t?n[e[o]]=t[o]:n[e[o][0]]=e[o][1];return n},_.findIndex=t(1),_.findLastIndex=t(-1),_.sortedIndex=function(e,t,n,o){n=y(n,o,1);for(var r=n(t),s=0,i=E(e);i>s;){var a=Math.floor((s+i)/2);n(e[a])<r?s=a+1:i=a}return s},_.indexOf=n(1,_.findIndex,_.sortedIndex),_.lastIndexOf=n(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var o=Math.max(Math.ceil((t-e)/n),0),r=Array(o),s=0;o>s;s++,e+=n)r[s]=e;return r};var A=function(e,t,n,o,r){if(!(o instanceof t))return e.apply(n,r);var s=x(e.prototype),i=e.apply(s,r);return _.isObject(i)?i:s};_.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,l.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),o=function(){return A(e,o,t,this,n.concat(l.call(arguments)))};return o},_.partial=function(e){var t=l.call(arguments,1),n=function(){for(var o=0,r=t.length,s=Array(r),i=0;r>i;i++)s[i]=t[i]===_?arguments[o++]:t[i];for(;o<arguments.length;)s.push(arguments[o++]);return A(e,n,this,this,s)};return n},_.bindAll=function(e){var t,n,o=arguments.length;if(1>=o)throw new Error("bindAll must be passed function names");for(t=1;o>t;t++)n=arguments[t],e[n]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(o){var r=n.cache,s=""+(t?t.apply(this,arguments):o);return _.has(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n},_.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var o,r,s,i=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:_.now(),i=null,s=e.apply(o,r),i||(o=r=null)};return function(){var u=_.now();a||n.leading!==!1||(a=u);var l=t-(u-a);return o=this,r=arguments,0>=l||l>t?(i&&(clearTimeout(i),i=null),a=u,s=e.apply(o,r),i||(o=r=null)):i||n.trailing===!1||(i=setTimeout(c,l)),s}},_.debounce=function(e,t,n){var o,r,s,i,a,c=function(){var u=_.now()-i;t>u&&u>=0?o=setTimeout(c,t-u):(o=null,n||(a=e.apply(s,r),o||(s=r=null)))};return function(){s=this,r=arguments,i=_.now();var u=n&&!o;return o||(o=setTimeout(c,t)),u&&(a=e.apply(s,r),s=r=null),a}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,o=e[t].apply(this,arguments);n--;)o=e[n].call(this,o);return o}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},_.once=_.partial(_.before,2);var z=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(e){if(!_.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return z&&o(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return z&&o(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,o=Array(n),r=0;n>r;r++)o[r]=e[t[r]];return o},_.mapObject=function(e,t,n){t=y(t,n);for(var o,r=_.keys(e),s=r.length,i={},a=0;s>a;a++)o=r[a],i[o]=t(e[o],o,e);return i},_.pairs=function(e){for(var t=_.keys(e),n=t.length,o=Array(n),r=0;n>r;r++)o[r]=[t[r],e[t[r]]];return o},_.invert=function(e){for(var t={},n=_.keys(e),o=0,r=n.length;r>o;o++)t[e[n[o]]]=n[o];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=w(_.allKeys),_.extendOwn=_.assign=w(_.keys),_.findKey=function(e,t,n){t=y(t,n);for(var o,r=_.keys(e),s=0,i=r.length;i>s;s++)if(o=r[s],t(e[o],o,e))return o},_.pick=function(e,t,n){var o,r,s={},i=e;if(null==i)return s;_.isFunction(t)?(r=_.allKeys(i),o=b(t,n)):(r=T(arguments,!1,!1,1),o=function(e,t,n){return t in n},i=Object(i));for(var a=0,c=r.length;c>a;a++){var u=r[a],l=i[u];o(l,u,i)&&(s[u]=l)}return s},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var o=_.map(T(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(o,t)}}return _.pick(e,t,n)},_.defaults=w(_.allKeys,!0),_.create=function(e,t){var n=x(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),o=n.length;if(null==e)return!o;for(var r=Object(e),s=0;o>s;s++){var i=n[s];if(t[i]!==r[i]||!(i in r))return!1}return!0};var q=function(e,t,n,o){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,a=t.constructor;if(i!==a&&!(_.isFunction(i)&&i instanceof i&&_.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],o=o||[];for(var c=n.length;c--;)if(n[c]===e)return o[c]===t;if(n.push(e),o.push(t),s){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!q(e[c],t[c],n,o))return!1}else{var u,l=_.keys(e);if(c=l.length,_.keys(t).length!==c)return!1;for(;c--;)if(u=l[c],!_.has(t,u)||!q(e[u],t[u],n,o))return!1}return n.pop(),o.pop(),!0};_.isEqual=function(e,t){return q(e,t)},_.isEmpty=function(e){return null==e?!0:S(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=m||function(e){return"[object Array]"===d.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&f.call(e,t)},_.noConflict=function(){return r._=s,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=k,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var o=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;e>r;r++)o[r]=t(r);return o},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=_.invert(P),N=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",o=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(r,t):e}};_.escape=N(P),_.unescape=N(M),_.result=function(e,t,n){var o=null==e?void 0:e[t];return void 0===o&&(o=n),_.isFunction(o)?o.call(e):o};var I=0;_.uniqueId=function(e){var t=++I+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,R=function(e){return"\\"+F[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var o=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,function(t,n,o,i,a){return s+=e.slice(r,a).replace(L,R),r=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":o?s+="'+\n((__t=("+o+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function (){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var i=new Function(t.variable||"obj","_",s)}catch(a){throw a.source=s,msos.console.debug("msos/base - _.template -> error:",a),a}var c=function(e){return msos.config.verbose&&msos.console.debug("msos/base - _.template -> called, for data:",e),i.call(this,e,_)},u=t.variable||"obj";return c.source="function ("+u+"){\n"+s+"}",c},_.chain=function(e){var t=_(e);return t._chain=!0,t};var D=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),D(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],D(this,n)}}),_.each(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return D(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _}),msos.console.debug("msos/base -> underscore.js now available.")}.call(this),function(e,t){"use strict";function n(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):C?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function o(e,t){return typeof e===t}function r(){var e,t,n,r,s,i,a,c;for(c in S)if(S.hasOwnProperty(c)){if(e=[],t=S[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n+=1)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s+=1)i=e[s],a=i.split("."),1===a.length?A[a[0]]=r:(!A[a[0]]||A[a[0]]instanceof Boolean||(A[a[0]]=new Boolean(A[a[0]])),A[a[0]][a[1]]=r),O.push((r?"":"no-")+a.join("-"))}}function s(){var e=t.body;return e||(e=n(C?"svg":"body"),e.fake=!0),e}function i(e,o,r,i){var a,c,u,l,d,f="modernizr",m=n("div"),p=s();if(parseInt(r,10))for(;r--;)u=n("div"),u.id=i?i[r]:f+(r+1),m.appendChild(u);return a=n("style"),a.type="text/css",a.id="s"+f,(p.fake?p:m).appendChild(a),p.appendChild(m),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),m.id=f,p.fake&&(p.style.background="",p.style.overflow="hidden",l=z.style.overflow,z.style.overflow="hidden",z.appendChild(p)),c=o(m,e),p.fake?(p.parentNode.removeChild(p),z.style.overflow=l,d=z.offsetHeight):m.parentNode.removeChild(m),!!c}function a(e,t){return!!~(""+e).indexOf(t)}function c(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function u(e,t){return function(){return e.apply(t,arguments)}}function l(e,t,n){var r,s;for(s in e)if(e[s]in t)return n===!1?e[s]:(r=t[e[s]],o(r,"function")?u(r,n||t):r);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(t,n){var o=t.length,r=[];if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(d(t[o]),n))return!0;return!1}if("CSSSupportsRule"in e){for(;o--;)r.push("("+d(t[o])+":"+n+")");return r=r.join(" or "),
i("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"===getComputedStyle(e,null).position})}}function m(e,t,r,s){function i(){l&&(delete E.style,delete E.modElem)}s=o(s,"undefined")?!1:s;var u,l,d,m,p,g=["modernizr","tspan"],h=0;if(!o(r,"undefined")&&(u=f(e,r),!o(u,"undefined")))return u;for(;!E.style;)l=!0,E.modElem=n(g.shift()),E.style=E.modElem.style;for(d=e.length,h=0;d>h;h+=1)if(m=e[h],p=E.style[m],a(m,"-")&&(m=c(m)),void 0!==E.style[m]){if(s||o(r,"undefined"))return i(),"pfx"===t?m:!0;try{E.style[m]=r}catch(v){}if(E.style[m]!=p)return i(),"pfx"===t?m:!0}return i(),!1}function p(e,t,n,r,s){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+k.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?m(a,t,r,s):(a=(e+" "+x.join(i+" ")+i).split(" "),l(a,t,n))}function g(e,t,n){return p(e,void 0,void 0,t,n)}var h,v,_,b,y,w,x,k,j,E,S=[],O=[],T={_version:"3.2.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){S.push({name:e,fn:t,options:n})},addAsyncTest:function(e){S.push({name:null,fn:e})}},A=function(){},z=t.documentElement,C="svg"===z.nodeName.toLowerCase(),q=["search","tel","url","email","datetime","date","month","week","time","datetime-local","number","range","color"],P={},M="Moz O ms Webkit",N=0;w=n("input"),A.prototype=T,A=new A,A.addTest("geolocation","geolocation"in navigator),A.addTest("websockets","WebSocket"in e&&2===e.WebSocket.CLOSING),A.addTest("devicemotion","DeviceMotionEvent"in e),A.addTest("deviceorientation","DeviceOrientationEvent"in e),A.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}),A.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}),A.addTest("websqldatabase","openDatabase"in e),A.addTest("cors","XMLHttpRequest"in e&&"withCredentials"in new XMLHttpRequest),A.addTest("dataset",function(){var e=n("div");return e.setAttribute("data-a-b","c"),!(!e.dataset||"c"!==e.dataset.aB)}),h=T._config.usePrefixes?["-webkit-","-moz-","-o-","-ms-"]:[],T._prefixes=h,v="CSS"in e&&"supports"in e.CSS,_="supportsCSS"in e,A.addTest("supports",v||_),b=function(){function e(e,t){var r;return e?(t&&"string"!=typeof t||(t=n(t||"div")),e="on"+e,r=e in t,!r&&o&&(t.setAttribute||(t=n("div")),t.setAttribute(e,""),r="function"==typeof t[e],void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e)),r):!1}var o=!("onblur"in t.documentElement);return e}(),T.hasEvent=b,A.addTest("audio",function(){var e=n("audio"),t=!1;try{t=!!e.canPlayType,t&&(t=new Boolean(t),t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(o){}return t}),A.addTest("contenteditable",function(){if(!("contentEditable"in z))return!1;var e=n("div");return e.contentEditable=!0,"true"===e.contentEditable}),A.addTest("video",function(){var e=n("video"),t=!1;try{t=!!e.canPlayType,t&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(o){}return t}),A.addTest("cssgradients",function(){var e,t,o,r,s="background-image:",i="gradient(linear,left top,right bottom,from(#9f9),to(white));",a="",c=0;for(c=0,t=h.length-1;t>c;c+=1)e=0===c?"to ":"",a+=s+h[c]+"linear-gradient("+e+"left top, #9f9, white);";return A._config.usePrefixes&&(a+=s+"-webkit-"+i),o=n("a"),r=o.style,r.cssText=a,(""+r.backgroundImage).indexOf("gradient")>-1}),A.addTest("csspointerevents",function(){var e=n("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents}),A.addTest("formattribute",function(){var e,o=n("form"),r=n("input"),s=n("div"),i="formtest"+(new Date).getTime(),a=!1;o.id=i;try{r.setAttribute("form",i)}catch(c){t.createAttribute&&(e=t.createAttribute("form"),e.nodeValue=i,r.setAttributeNode(e))}return s.appendChild(o),s.appendChild(r),z.appendChild(s),a=o.elements&&1===o.elements.length&&r.form==o,s.parentNode.removeChild(s),a}),x=T._config.usePrefixes?M.toLowerCase().split(" "):[],T._domPrefixes=x,A.addTest("pointerevents",function(){var e=!1,t=x.length;for(e=A.hasEvent("pointerdown");t--&&!e;)b(x[t]+"pointerdown")&&(e=!0);return e}),y=T.testStyles=i,A.addTest("touchevents",function(){var n,o;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:(o=["@media (",h.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join(""),y(o,function(e){n=9===e.offsetTop})),n}),A.addTest("formvalidation",function(){var t,o=n("form"),r=!1;return"checkValidity"in o&&"addEventListener"in o?"reportValidity"in o?!0:(A.formvalidationapi=!0,o.addEventListener("submit",function(t){e.opera&&!e.operamini||t.preventDefault(),t.stopPropagation()},!1),o.innerHTML='<input name="modTest" required><button></button>',y("#modernizr form{position:absolute;top:-99999em}",function(e){e.appendChild(o),t=o.getElementsByTagName("input")[0],t.addEventListener("invalid",function(e){r=!0,e.preventDefault(),e.stopPropagation()},!1),A.formvalidationmessage=!!t.validationMessage,o.getElementsByTagName("button")[0].click()}),r):!1}),A.inputtypes=function(e){var n,o,r,s=0,i=e.length,a=":)";for(s=0;i>s;s+=1)w.setAttribute("type",n=e[s]),r="text"!==w.type&&"style"in w,r&&(w.value=a,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&void 0!==w.style.WebkitAppearance?(z.appendChild(w),o=t.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,z.removeChild(w)):/^(search|tel)$/.test(n)||(r=/^(url|email|number)$/.test(n)?w.checkValidity&&w.checkValidity()===!1:w.value!==a)),P[e[s]]=!!r;return P}(q),A.addTest("localizednumber",function(){if(!A.inputtypes.number)return!1;if(!A.formvalidation)return!1;var e,o,r=n("div"),i=s(),a=function(){return z.insertBefore(i,z.firstElementChild||z.firstChild)}();r.innerHTML='<input type="number" value="1.0" step="0.1"/>',o=r.childNodes[0],a.appendChild(r),o.focus();try{t.execCommand("InsertText",!1,"1,1")}catch(c){}return e="number"===o.type&&1.1===o.valueAsNumber&&o.checkValidity(),a.removeChild(r),i.fake&&a.parentNode.removeChild(a),e}),k=T._config.usePrefixes?M.split(" "):[],T._cssomPrefixes=k,j={elem:n("modernizr")},A._q.push(function(){delete j.elem}),E={style:j.elem.style},A._q.unshift(function(){delete E.style}),T.testAllProps=p,T.testAllProps=g,A.addTest("cssanimations",g("animationName","a",!0)),A.addTest("overflowscrolling",g("overflowScrolling","touch",!0)),A.addTest("boxshadow",g("boxShadow","1px 1px",!0)),A.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&g("transform","scale(1)",!0)}),A.addTest("csstransforms3d",function(){var e,t=!!g("perspective","1px",!0),n=A._config.usePrefixes,o="#modernizr{width:0;height:0}";return t&&(!n||"webkitPerspective"in z.style)&&(A.supports?e="@supports (perspective: 1px)":(e="@media (transform-3d)",n&&(e+=",(-webkit-transform-3d)")),e+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",y(o+e,function(e){t=7===e.offsetWidth&&18===e.offsetHeight})),t}),A.addTest("csstransitions",g("transition","all",!0)),r(),delete T.addTest,delete T.addAsyncTest;for(N=0;N<A._q.length;N+=1)A._q[N]();e.Modernizr=A,msos.console.debug("msos/base -> Modernizr.js now available.")}(window,document),function(){"use strict";var e=function(t){return _.extend({},e.plugins,(new e.Storage).init(t))};e.version="0.4.2",e.utils={each:function(e,t,n){if(_.isArray(e)){for(var o=0;o<e.length;o++)if(t.call(n,e[o],o)===!1)return}else if(e)for(var r in e)if(t.call(n,e[r],r)===!1)return},tryEach:function(e,t,n,o){this.each(e,function(e,r){try{return t.call(o,e,r)}catch(s){if(_.isFunction(n))try{n.call(o,e,r,s)}catch(s){msos.console.error("msos/base - Basil.tryEach -> failed:",s)}}},this)},registerPlugin:function(t){e.plugins=_.extend(t,e.plugins)}},e.plugins={},e.options=_.extend({namespace:"msos_b45i1",storages:["local","cookie","session","memory"],expireDays:31},window.Basil?window.Basil.options:{}),e.Storage=function(){var t="b45i1"+(Math.random()+1).toString(36).substring(7),n={},o=function(e){return _.isArray(e)?e:_.isString(e)?[e]:[]},r=function(e,t){var n="";return _.isString(t)&&t.length&&(t=[t]),_.isArray(t)&&t.length&&(n=t.join(":")),n&&e?e+":"+n:n},s=function(e,t){return e?t.replace(new RegExp("^"+e+":"),""):t},i=function(e){return JSON.stringify(e)},a=function(e){return e?JSON.parse(e):null},c={engine:null,check:function(){try{window[this.engine].setItem(t,!0),window[this.engine].removeItem(t)}catch(e){return msos.console.warn("msos/base - Basil.check -> response:",e),!1}return!0},set:function(e,t){if(!e)throw Error("invalid key");window[this.engine].setItem(e,t)},get:function(e){return window[this.engine].getItem(e)},remove:function(e){window[this.engine].removeItem(e)},reset:function(e){for(var t,n=0;n<window[this.engine].length;n++)t=window[this.engine].key(n),e&&0!==t.indexOf(e)||(this.remove(t),n--)},keys:function(e){for(var t,n=[],o=0;o<window[this.engine].length;o++)t=window[this.engine].key(o),e&&0!==t.indexOf(e)||n.push(s(e,t));return n}};return n.local=_.extend({},c,{engine:"localStorage"}),n.session=_.extend({},c,{engine:"sessionStorage"}),n.memory={_hash:{},check:function(){return!0},set:function(e,t){if(!e)throw Error("invalid key");this._hash[e]=t},get:function(e){return this._hash[e]||null},remove:function(e){delete this._hash[e]},reset:function(e){for(var t in this._hash)e&&0!==t.indexOf(e)||this.remove(t)},keys:function(e){var t=[];for(var n in this._hash)e&&0!==n.indexOf(e)||t.push(s(e,n));return t}},n.cookie={check:function(){return navigator.cookieEnabled},set:function(e,t,n){if(!this.check())throw Error("cookies are disabled");if(n=n||{},!e)throw Error("invalid key");var o=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n.expireDays){var r=new Date;r.setTime(r.getTime()+24*n.expireDays*60*60*1e3),o+="; expires="+r.toGMTString()}if(n.domain&&n.domain!==document.domain){var s=n.domain.replace(/^\./,"");if(-1===document.domain.indexOf(s)||s.split(".").length<=1)throw Error("invalid domain");o+="; domain="+n.domain}n.secure===!0&&(o+="; secure"),document.cookie=o+"; path=/"},get:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n=encodeURIComponent(e),o=document.cookie?document.cookie.split(";"):[],r=o.length-1;r>=0;r--)if(t=o[r].replace(/^\s*/,""),0===t.indexOf(n+"="))return decodeURIComponent(t.substring(n.length+1,t.length));return null},remove:function(e){this.set(e,"",{expireDays:-1});for(var t=document.domain.split("."),n=t.length;n>=0;n--)this.set(e,"",{expireDays:-1,domain:"."+t.slice(-n).join(".")})},reset:function(e){for(var t,n,o=document.cookie?document.cookie.split(";"):[],r=0;r<o.length;r++)t=o[r].replace(/^\s*/,""),n=t.substr(0,t.indexOf("=")),e&&0!==n.indexOf(e)||this.remove(n)},keys:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n,o=[],r=document.cookie?document.cookie.split(";"):[],i=0;i<r.length;i++)t=r[i].replace(/^\s*/,""),n=decodeURIComponent(t.substr(0,t.indexOf("="))),e&&0!==n.indexOf(e)||o.push(s(e,n));return o}},{init:function(e){return this.setOptions(e),this},setOptions:function(t){this.options=_.extend({},this.options||e.options,t)},support:function(e){return n.hasOwnProperty(e)},check:function(e){return this.support(e)?n[e].check():!1},set:function(t,s,a){if(msos.config.verbose&&msos.console.debug("msos/base - Basil.set -> called, key: "+t),a=_.extend({},this.options,a),!(t=r(a.namespace,t)))return!1;s=a.raw===!0?s:i(s);var c=null;return e.utils.tryEach(o(a.storages),function(e){return n[e].set(t,s,a),c=e,!1},null,this),c?(e.utils.tryEach(o(a.storages),function(e){e!==c&&n[e].remove(t)},null,this),!0):!1},get:function(t,s){if(msos.config.verbose&&msos.console.debug("msos/base - Basil.get -> start, key: "+t),s=_.extend({},this.options,s),!(t=r(s.namespace,t)))return null;var i=null;return e.utils.tryEach(o(s.storages),function(e){return null!==i?!1:(i=n[e].get(t,s)||null,i=s.raw===!0?i:a(i),!0)},function(){i=null},this),msos.config.verbose&&msos.console.debug("msos/base - Basil.get ->  done, key: "+t+", value:",i),i},remove:function(t,s){msos.config.verbose&&msos.console.debug("msos/base - Basil.remove -> called, key: "+t),s=_.extend({},this.options,s),(t=r(s.namespace,t))&&e.utils.tryEach(o(s.storages),function(e){n[e].remove(t)},null,this)},reset:function(t){msos.config.verbose&&msos.console.debug("msos/base - Basil.reset -> called."),t=_.extend({},this.options,t),e.utils.tryEach(o(t.storages),function(e){n[e].reset(t.namespace)},null,this)},keys:function(e){e=e||{};var t=[];for(var n in this.keysMap(e))t.push(n);return t},keysMap:function(t){t=_.extend({},this.options,t);var r={};return e.utils.tryEach(o(t.storages),function(o){e.utils.each(n[o].keys(t.namespace),function(e){r[e]=_.isArray(r[e])?r[e]:[],r[e].push(o)},this)},null,this),r}}},e.memory=(new e.Storage).init({storages:"memory",namespace:null,raw:!0}),e.cookie=(new e.Storage).init({storages:"cookie",namespace:null,raw:!0}),e.localStorage=(new e.Storage).init({storages:"local",namespace:null,raw:!0}),e.sessionStorage=(new e.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=e,msos.console.debug("msos/base -> basil.js now available.")}(),msos.basil=new window.Basil,msos.config.clear_storage&&msos.basil.reset(),msos.config.verbose&&(msos.console.debug("msos/base -> storage availability,\n        cookies: "+msos.basil.check("cookie")+",\n   localStorage: "+msos.basil.check("local")+",\n sessionStorage: "+msos.basil.check("session")),msos.basil.get("last_script_exec"),msos.basil.set("last_script_exec",new Date)),function(e,t,n){"use strict";e[t]=n()}(msos,"verge",function(){"use strict";function e(e,t){var n={};return t=+t||0,n.right=e.right+t,n.left=e.left-t,n.bottom=e.bottom+t,n.top=e.top-t,n.width=n.right-n.left,n.height=n.bottom-n.top,n}var t={},n=void 0!==window&&window,o=void 0!==document&&document,r=o&&o.documentElement,s=n.matchMedia||n.msMatchMedia,i=s?function(e){return!!s.call(n,e).matches}:function(){return!1};return t.viewportW=function(){var e=r.clientWidth,t=n.innerWidth;return t>e?t:e},t.viewportH=function(){var e=r.clientHeight,t=n.innerHeight;return t>e?t:e},t.mq=i,t.matchMedia=s?function(){return s.apply(n,arguments)}:function(){return{}},t.viewport=function(){return{width:t.viewportW(),height:t.viewportH()}},t.scrollX=function(){return n.pageXOffset||r.scrollLeft},t.scrollY=function(){return n.pageYOffset||r.scrollTop},t.rectangle=function(t,n){return t=t&&!t.nodeType?t[0]:t,t&&1===t.nodeType?e(t.getBoundingClientRect(),n):!1},t.aspect=function(e){e=void 0===e?t.viewport():1===e.nodeType?t.rectangle(e):e;var n=e.height,o=e.width;return n="function"==typeof n?n.call(e):n,o="function"==typeof o?o.call(e):o,o/n},t.inX=function(e,n){var o=t.rectangle(e,n);return!!o&&o.right>=0&&o.left<=t.viewportW()},t.inY=function(e,n){var o=t.rectangle(e,n);return!!o&&o.bottom>=0&&o.top<=t.viewportH()},t.inViewport=function(e,n){var o=t.rectangle(e,n);return!!o&&o.bottom>=0&&o.right>=0&&o.top<=t.viewportH()&&o.left<=t.viewportW()},t}),_.keys(msos.config.size_wide).map(function(e){return[e,msos.config.size_wide[e]]}).sort(function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0}).forEach(function(e){msos.config.size_array.push(e[0])}),msos.var_is_null=function(e){"use strict";return void 0===e?!0:null===e},msos.var_is_empty=function(e){"use strict";return msos.var_is_null(e)?!0:""===e},msos.do_nothing=function(e){"use strict";e.preventDefault(),e.stopPropagation()},msos.do_abs_nothing=function(e){"use strict";e.preventDefault(),e.stopImmediatePropagation()},msos.new_time=function(){"use strict";return(new Date).getTime()},msos.gen_namespace=function(e){"use strict";var t=window,n=0;for(e=e.split("."),n=0;n<e.length;n+=1)t=t[e[n]]||(t[e[n]]={});return t},msos.generate_url_name=function(e){"use strict";var t,n=[],o="";return t=msos.purl(e).attr("path"),n=t.split("/"),o=n.slice(2).join(":"),o=o.replace(/[^0-9a-zA-Z]/g,"_")},msos.run_function_array=function(e){"use strict";var t="msos.run_func_array -> ",n=0;if(e=e||"missing",msos.console.debug(t+"start: "+e),!msos[e]||!_.isArray(msos[e]))return void msos.console.error(t+"for: "+e+", failed.");for(n=0;n<msos[e].length;n+=1)if(msos.config.debug){msos.console.debug(t+"index: "+n+", for: "+e);try{msos[e][n]()}catch(o){msos.console.error(t+"for: "+e,o)}}else msos[e][n]();msos[e]=[],msos.console.debug(t+" done: "+e)},msos.resource_url=function(e,t){"use strict";return msos.base_script_url.replace(/\/msos\//,"/"+(e?e+"/":""))+t},msos.set_locale=function(){"use strict";var e="msos.set_locale -> ",t=msos.config,n=t.storage.site_i18n,o=[];n.value&&(o=n.value.split(":")),msos.console.debug(e+"start, stored local: "+(n.value||"na")),t.locale=t.query.locale||o[0]||t.locale||msos.default_locale,t.culture=t.query.culture||o[1]||t.culture||t.locale,t.calendar=t.query.calendar||o[2]||t.calendar,msos.console.debug(e+" done, locale: "+t.locale+", culture: "+t.culture+", calendar: "+t.calendar)},msos.set_locale_storage=function(){"use strict";var e="msos.set_locale_storage -> ",t=msos.config.storage.site_i18n;msos.console.debug(e+"start."),t.value=msos.config.locale+":"+msos.config.culture+":"+msos.config.calendar,msos.basil.set(t.name,t.value),msos.console.debug(e+"done, value: "+t.value),t.set=!0},msos.get_viewport=function(e){"use strict";var t=msos.verge.viewport();return window===e&&(msos.config.view_port=t),msos.console.debug("msos.get_viewport -> viewport:",t),t},msos.browser_orientation=function(){"use strict";var e=msos.config.view_orientation,t=msos.get_viewport(window),n="msos.browser_orientation -> ";if(void 0!==window.orientation){switch(window.orientation){case 0:e.layout="portrait",e.direction="normal",e.numeric=0;break;case-90:e.layout="landscape",e.direction="right",e.numeric=-90;break;case 90:e.layout="landscape",e.direction="left",e.numeric=90;break;case 180:e.layout="portrait",e.direction="flipped",e.numeric=180;break;default:e.layout=t.width/t.height<1.1?"portrait":"landscape",e.direction="normal",e.numeric=t.width/t.height<1.1?0:90}e.method="window.orientation("+window.orientation+")"}else e.layout=t.width/t.height<1.1?"portrait":"landscape",e.direction="normal",e.method="document.documentElement",e.numeric=t.width/t.height<1.1?0:90;return msos.console.debug(n+"layout: "+e.layout+", dir: "+e.direction+" for "+e.method),e},msos.browser_ok=function(){"use strict";var e="msos.browser_ok -> ",t=[];return window.focus||t.push("window.focus"),document.images||t.push("document.images"),document.styleSheets||t.push("document.styleSheets"),document.open||t.push("document.open"),document.close||t.push("document.close"),window.document.write||t.push("document.write"),document.addEventListener||t.push("document.addEventListener"),0===t.length?(msos.console.debug(e+"browser is ok"),void(msos.config.browser.ok=!0)):(msos.console.error(e+"browser failed, does not support: "+t.join(", ")),void(msos.config.browser.ok=!1))},msos.browser_current=function(){"use strict";var e="msos.browser_current -> ",t=[];return Array.prototype.indexOf||t.push("Array.indexOf"),Array.prototype.forEach||t.push("Array.forEach"),String.prototype.indexOf||t.push("String.indexOf"),String.prototype.trim||t.push("String.trim"),Function.prototype.bind||t.push("Function.bind"),Object.keys||t.push("Object.keys"),Object.create||t.push("Object.create"),JSON&&JSON.stringify&&JSON.stringify.length&&!(JSON.stringify.length<3)||t.push("JSON.stringify"),0===t.length?(msos.console.debug(e+"browser is current"),void(msos.config.browser.current=!0)):(msos.console.warn(e+"browser does not support: "+t.join(", ")+" -> for doctype "+msos.config.doctype),"xhtml5"===msos.config.doctype&&"document.write"===t[2]?void(msos.config.browser.current=!0):(msos.console.error(e+"browser is not current"),void(msos.config.browser.current=!1)))},msos.browser_touch=function(){"use strict";var e="msos.browser_touch -> ",t="",n=document.createElement("div"),o=0;for(t in msos.config.touch)msos.config.touch.hasOwnProperty(t)&&(msos.config.touch[t]===!0?o+=1:o-=1);try{document.createEvent("TouchEvent"),o+=1}catch(r){o-=1}"ontouchstart"in n&&(o+=1),n=null,o>0&&(msos.config.browser.touch=!0),Modernizr.touchevents!==msos.config.browser.touch&&msos.console.warn(e+"Modernizr.touchevents returned: "+Modernizr.touchevents),msos.console.debug(e+"touch is "+(msos.config.browser.touch?"":"not")+" available, ref. ("+String(o)+")")},msos.browser_mobile=function(){"use strict";var e="msos.browser_mobile -> ",t=0,n=[];msos.var_is_empty(screen.height)||msos.var_is_empty(screen.width)||(t=screen.height>screen.width?screen.height:screen.width),t&&481>t&&n.push("screen"),msos.config.browser.touch&&n.push("touch"),msos.config.orientation&&n.push("orientation"),msos.config.orientation_change&&n.push("orientation_change"),msos.config.pixel_ratio>1&&n.push("pixel_ratio"),Modernizr.devicemotion&&n.push("device_motion"),Modernizr.deviceorientation&&n.push("device_orientation"),Modernizr.overflowscrolling&&n.push("overflow_scrolling"),n.length>3&&(msos.config.browser.mobile=!0,msos.config.mobile=!0),msos.console.debug(e+"browser is "+(msos.config.browser.mobile?"mobile":"not mobile")+(n.length>0?", flag(s): "+n.join(", "):"")),msos.config.query.mobile!==!0&&msos.config.query.mobile!==!1||(msos.config.browser.mobile!==msos.config.query.mobile&&msos.console.debug(e+"force mobile setting: "+msos.config.query.mobile),msos.config.mobile=!!msos.config.query.mobile)},msos.browser_advanced=function(){"use strict";var e="msos.browser_advanced -> ",t=Modernizr,n=[];return t.cssgradients||n.push("cssgradients"),t.boxshadow||n.push("boxshadow"),t.csstransitions||n.push("csstransitions"),t.csstransforms||n.push("csstransforms"),t.cssanimations||n.push("cssanimations"),t.websockets||n.push("websockets"),t.localstorage||n.push("localstorage"),t.dataset||n.push("dataset"),msos.config.scrolltop||n.push("scrollTop"),n[0]?(msos.console.debug(e+"browser is not advanced, missing: "+n.join(" ")),msos.config.browser.advanced=!1,!1):(msos.console.debug(e+"browser is advanced."),msos.config.browser.advanced=!0,!0)},msos.browser_editable=function(){"use strict";return document.designMode||msos.body.contentEditable?void 0===document.execCommand?void(msos.config.browser.editable=!1):(msos.console.debug("msos.browser_editable -> browser supports content editing"),void(msos.config.browser.editable=!0)):void(msos.config.browser.editable=!1)},msos.browser_direction=function(){"use strict";var e="",t=null;t=function(){var e=document.createElement("p"),t=document.createElement("span"),n="";return e.style.margin="0 0 0 0",e.style.padding="0 0 0 0",e.style.textAlign="",t.innerHTML="X",e.appendChild(t),document.body.appendChild(e),n=t.offsetLeft<e.offsetWidth-(t.offsetLeft+t.offsetWidth)?"ltr":"rtl",msos.body.removeChild(e),msos.config.verbose&&msos.console.debug("msos.browser_direction -> by build_test: "+n),n},e=(msos.body.dir||document.documentElement.dir||t()||"ltr").toLowerCase(),msos.config.browser.direction=e},msos.browser_preloading=function(){"use strict";var e=msos.config.script_preload,t=document.createElement("script"),n=navigator.userAgent;e.async="async"in t,e.defer="defer"in t,e.explicit="boolean"==typeof t.preload,e.available=e.explicit?!0:!(!t.readyState||"uninitialized"!==t.readyState),e.ordered=!e.available&&t.async===!0,e.xhr_cache=!(!e.available&&(e.ordered||-1!==n.indexOf("Opera")||-1!==n.indexOf("Gecko"))),t=null},msos.browser_native_overflow=function(){"use strict";var e=msos.config;e.browser.nativeoverflow=Modernizr.overflowscrolling||e.overflow_scrolling.webkitoverflowscrolling||e.overflow_scrolling.msoverflowstyle},msos.browser_is_scalable=function(){"use strict";var e=document.querySelector("meta[name=viewport]");(e&&-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)&&(msos.config.browser.scalable=!0)},msos.get_head=function(e){"use strict";var t=e.document,n=t.documentElement,o=t.head||t.getElementsByTagName("head")[0];return o||(o=t.createElement("head"),n.insertBefore(o,n.firstChild)),o},msos.create_node=function(e,t,n){"use strict";n||(n=window);var o=n.document.createElement(e),r="";msos.config.verbose&&msos.console.debug("msos.create_node -> called for:\n     "+e,t);for(r in t)t.hasOwnProperty(r)&&o.setAttribute(r,t[r]);return o},msos.loader=function(e){"use strict";var t="msos.loader",n=this,o=msos.purl().attr("file"),r=0;e||(e=window),e.msos||(e.msos={}),e.name||(e.name=o.replace(/[^0-9a-zA-Z]/g,"_")||"base_win"),e.msos.registered_files||(e.msos.registered_files={js:{},css:{},ico:{},ajax:{}}),msos.console.debug(t+" -> start for window: "+e.name),this.doc_head=msos.get_head(e),this.toggle_css=[],this.delay_css=0,this.deferred_array=[],this.deferred_done=!0,this.add_resource_onload=[],this.load=function(e,o,r){var s=msos.generate_url_name(e),i=e.split("?")[0],a=i.substr(i.lastIndexOf(".")+1),c=/^js|css|ico$/,u=" - load -> ",l=null;return msos.config.verbose&&msos.console.debug(t+u+"start, name: "+s),r=r||{},o||(o=a||"na"),c.test(o)&&s?(n.check(s,e,o)?msos.console.debug(t+u+"already loaded: "+s+", url: "+e):(l=function(){n.resource(s,e,o,r),msos.pending_file_loads.push(s)},r.defer&&"defer"===r.defer?msos.config.script_preload.ordered?(l(),msos.console.debug(t+u+"browser deferred file: "+e)):(n.deferred_done===!0?(n.deferred_done=!1,l()):n.deferred_array.push(l),msos.console.debug(t+u+"deferred file: "+e+", queue: "+n.deferred_array.length)):"css"===o?(setTimeout(l,n.delay_css),n.delay_css+=5,msos.console.debug(t+u+"css file: "+e+", delay: "+n.delay_css)):(l(),msos.console.debug(t+u+"file: "+e))),void(msos.config.verbose&&msos.console.debug(t+u+"done!"))):void msos.console.error(t+u+"missing or invalid input for url: "+e+", type: "+o)},this.check=function(o,s,i){var a=n.toggle_css,c=!1,u=" - check -> ";if(msos.console.debug(t+u+"start."),e.msos.registered_files[i]&&e.msos.registered_files[i][o]&&(c=!0),"css"===i&&a.length>0){for(r=0;r<a.length;r+=1)e.msos.registered_files.css[a[r]]&&(e.msos.registered_files.css[a[r]].disabled=!0);for(e.msos.registered_files.css[o]&&(e.msos.registered_files.css[o].disabled=!1,msos.console.debug(t+u+"set active: "+s)),r=0;r<n.add_resource_onload.length;r+=1)n.add_resource_onload[r]()}return msos.console.debug(t+u+"done, already loaded (t/f): "+(c?"true":"false")+" for "+o),c},this.init_create_node=function(n,o,r,s){var i=null,a=" - init_create_node -> ",c={},u="";if(msos.config.verbose&&msos.console.debug(t+a+"start, name: "+n+", type: "+r),msos.config.cache===!1&&(o+=(/\?.*$/.test(o)?"&_":"?_")+~~(1e9*Math.random())+"="),"js"===r?c={id:n,src:o}:"css"===r?c={id:n,rel:"stylesheet",href:o,media:"all"}:"ico"===r&&(c={id:n,type:"image/x-icon",rel:"shortcut icon",href:o}),void 0!==s&&"object"==typeof s)for(u in s)s.hasOwnProperty(u)&&(c[u]=s[u]);return"js"===r?(i=msos.create_node("script",c,e),"defer"===s.defer?i.async=!1:i.async=!0):"css"===r?i=msos.create_node("link",c,e):"ico"===r&&(i=msos.create_node("link",c,e)),i.msos_load_state="loading","js"===r&&msos.config.script_onerror&&(i.onerror=function(e){msos.console.error(t+" -> failed for: "+n,e)}),msos.config.verbose&&msos.console.debug(t+a+"done!"),i},this.resource=function(o,r,s,i){var a=n.init_create_node(o,r,s,i)||null,c=" - resource -> ",u=function(){var e,o,r=0,s=msos.pending_file_loads;if("loaded"!==this.msos_load_state&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState||"uninitialized"===this.readyState)){for(this.msos_load_state="loaded",e=_.indexOf(s,this.id),e>=0?(s.splice(e,1),msos.config.verbose&&msos.console.debug(t+c+"loaded, name: "+this.id+", pending file count:",s.length)):msos.console.error(t+c+"unknown pending file, name: "+this.id,s),r=0;r<n.add_resource_onload.length;r+=1)n.add_resource_onload[r]();"defer"===this.getAttribute("defer")&&(n.deferred_array.length?(o=n.deferred_array.shift())():n.deferred_done=!0),this.onload=this.onreadystatechange=null}return!0};msos.console.debug(t+c+"start, type: "+s+", name: "+o),null!==a&&(a.onload=a.onreadystatechange=u,n.doc_head.appendChild(a),e.msos.registered_files[s][o]=a,msos.console.debug(t+c+"done!"))},msos.console.debug(t+" -> done!")},msos.set_environment=function(){"use strict";var e="msos.set_environment -> ",t=msos.config.storage;msos.console.debug(e+"start"),t.site_pref.value=msos.basil.get(t.site_pref.name),t.site_i18n.value=msos.basil.get(t.site_i18n.name),t.site_bdwd.value=msos.basil.get(t.site_bdwd.name),msos.browser_ok(),msos.browser_current(),msos.browser_advanced(),msos.browser_editable(),msos.browser_orientation(),msos.browser_touch(),msos.browser_mobile(),msos.browser_preloading(),msos.browser_native_overflow(),msos.browser_is_scalable(),msos.config.verbose?msos.console.debug(e+"done, browser env: ",msos.config.browser):msos.console.debug(e+"done!")},msos.calc_display_size=function(){"use strict";var e="",t=msos.config.view_port,n=0,o=0,r=0,s="",i=0;msos.var_is_empty(t.width)||0===t.width||(n=t.width),msos.var_is_empty(screen.width)||0===screen.width||(o=screen.width),r=n||o;for(s in msos.config.size_wide)msos.config.size_wide.hasOwnProperty(s)&&(i=msos.config.size_wide[s]+.01*msos.config.size_wide[s],r>i&&(e?msos.config.size_wide[e]<msos.config.size_wide[s]&&(e=s):e=s));return msos.console.debug("msos.calc_display_size -> calculated: "+e+", viewport w: "+t.width+", screen w: "+screen.width),e},msos.get_display_size=function(e){"use strict";var t="msos.get_display_size -> ",n=msos.config.storage.site_pref.value,o=msos.config.view_orientation.layout,r=[],s="";msos.console.debug(t+"start, resize: "+(e?"true":"false")),n?(r=n.split(":"),s="portrait"===o?r[0]||"":r[1]||"",msos.console.debug(t+"stored value detected: "+n)):(r[0]="unknown",r[1]="unknown"),r[2]=o,("unknown"===s||e)&&(s=""),msos.config.size=msos.config.query.size||s||msos.calc_display_size(),msos.config.query.size&&msos.console.info(t+"NOTE: size set by input!"),"portrait"===o?r[0]=msos.config.size:r[1]=msos.config.size,n=r.join(":"),msos.config.storage.site_pref.value=n,msos.console.debug(t+"done: "+msos.config.size+", for "+o)},msos.css_loader=function(e,t){"use strict";var n="msos.css_loader -> ",o=null,r="",s=0;for(msos.console.debug(n+"start."),o=new msos.loader(t),s=0;s<e.length;s+=1)r=e[s],o.load(r,"css");msos.console.debug(n+"done!")},msos.script_loader=function(e){"use strict";var t="msos.script_loader -> ",n=null,o="",r=0;for(msos.console.debug(t+"start."),n=new msos.loader,r=0;r<e.length;r+=1)o=e[r],n.load(o,"js",{defer:"defer"});msos.console.debug(t+"done!")},msos.set_environment(),msos.set_locale(),msos.get_display_size(),msos.console.info("msos/base -> done!"),msos.console.timeEnd("base");
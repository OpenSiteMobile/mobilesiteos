msos.console.info("ng/route/v144_msos -> start."),msos.console.time("route"),function(e,t){"use strict";function n(){function n(t,n){return e.extend(Object.create(t),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},o=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var a="?"===r?r:null,c="*"===r?r:null;return o.push({name:n,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(c?"(.+?)":"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var o={},a="ng/route - $RouteProvider";this.caseInsensitiveMatch=!1,this.when=function(n,c){var i,s=" - when -> ",l=e.copy(c);return u&&t.console.debug(a+s+"start, path: "+(n||"na")+", rCopy:",l),_.isUndefined(l.reloadOnSearch)&&(l.reloadOnSearch=!0),_.isUndefined(l.caseInsensitiveMatch)&&(l.caseInsensitiveMatch=this.caseInsensitiveMatch),o[n]=e.extend(l,n&&r(n,l)),n&&(i="/"===n[n.length-1]?n.substr(0,n.length-1):n+"/",o[i]=e.extend({redirectTo:n},r(i,l))),u&&t.console.debug(a+s+"done, redirectPath: "+(i||"na")),this},this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,c,u,s,l,d,h){function $(t,n){var r=[];return e.forEach((t||"").split(":"),function(e,t){var o,a;0===t?r.push(e):(o=e.match(/(\w+)(?:[?*])?(.*)/),a=o[1],r.push(n[a]),r.push(o[2]||""),delete n[a])}),r.join("")}function p(e,t){var n,r,o,a=t.keys,c={},i=0;if(!t.regexp)return null;if(n=t.regexp.exec(e),!n)return null;for(i=1;i<n.length;i+=1)r=a[i-1],o=n[i],r&&o&&(c[r.name]=o);return c}function f(){var t,r;return e.forEach(o,function(o){r||(t=p(c.path(),o),t&&(r=n(o,{params:e.extend({},c.search(),t),pathParams:t}),r.$$route=o))}),r||o[null]&&n(o[null],{params:{},pathParams:{}})}function g(n){var o=" - $get - prepareRoute -> ",c=C.current;t.console.debug(a+o+"start."),v=f(),w=v&&c&&v.$$route===c.$$route&&e.equals(v.pathParams,c.pathParams)&&!v.reloadOnSearch&&!b,w||!c&&!v||r.$broadcast("$routeChangeStart",v,c).defaultPrevented&&n&&n.preventDefault(),t.console.debug(a+o+"done!")}function m(){var n=" - $get - commitRoute -> ",o=C.current,i=v;t.console.debug(a+n+"start."),w?(o.params=i.params,e.copy(o.params,u),r.$broadcast("$routeUpdate",o)):(i||o)&&(b=!1,C.current=i,i&&i.redirectTo&&(e.isString(i.redirectTo)?c.path($(i.redirectTo,i.params)).search(i.params).replace():c.url(i.redirectTo(i.pathParams,c.path(),c.search())).replace()),s.when(s.defer("ng_route_when_commitRoute"),i).then(function(){if(i){var t,n,r=e.extend({},i.resolve);return e.forEach(r,function(t,n){r[n]=e.isString(t)?l.get(t):l.invoke(t,null,null,n)}),t=i.template,e.isDefined(t)?_.isFunction(t)&&(t=t(i.params)):(n=i.templateUrl,e.isDefined(n)&&(_.isFunction(n)&&(n=n(i.params)),e.isDefined(n)&&(i.loadedTemplateUrl=h.valueOf(n),t=d(n)))),e.isDefined(t)&&(r.$template=t),s.all(s.defer("ng_route_all_commitRoute"),r)}return void 0}).then(function(t){i===C.current&&(i&&(i.locals=t,e.copy(i.params,u)),r.$broadcast("$routeChangeSuccess",i,o))},function(e){i===C.current&&r.$broadcast("$routeChangeError",i,o,e)})),t.console.debug(a+n+"done!")}var v,w,b=!1,C={routes:o,reload:function(){b=!0,r.$evalAsync(function(){t.console.debug(a+" - $get - $route - reload -> start."),g(),m(),t.console.debug(a+" - $get - $route - reload -> done!")})},updateParams:function(t){if(!this.current||!this.current.$$route)throw i("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),c.path($(this.current.$$route.originalPath,t)),c.search(t)}};return r.$on("$locationChangeStart",g),r.$on("$locationChangeSuccess",m),C}]}function r(){this.$get=function(){return{}}}function o(t,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,a,c,i,u){function s(){$&&(r.cancel($),$=null),d&&(d.$destroy(),d=null),h&&($=r.leave(h),$.then(function(){$=null}),h=null)}function l(){var c,i,l,$=t.current&&t.current.locals,g=$&&$.$template;e.isDefined(g)?(c=o.$new(),i=t.current,l=u(c,function(t){r.enter(t,null,h||a).then(function(){!e.isDefined(p)||p&&!o.$eval(p)||n()}),s()}),h=l,d=i.scope=c,d.$emit("$viewContentLoaded"),d.$eval(f)):s()}var d,h,$,p=c.autoscroll,f=c.onload||"";o.$on("$routeChangeSuccess",l),l()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,o){var a,c,i=n.current,u=i.locals;o.html(u.$template),a=e(o.contents()),i.controller&&(u.$scope=r,c=t(i.controller,u),i.controllerAs&&(r[i.controllerAs]=c),o.data("$ngControllerController",c),o.children().data("$ngControllerController",c)),a(r)}}}var c,i=e.$$minErr("ngRoute"),u=!1;"route"===t.config.verbose&&(u=!0),c=e.module("ngRoute",["ng"]).provider("$route",n),c.provider("$routeParams",r),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"],c.directive("ngView",o),c.directive("ngView",a)}(window.angular,window.msos),msos.console.info("ng/route/v144_msos -> done!"),msos.console.timeEnd("route");
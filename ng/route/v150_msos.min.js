msos.console.info("ng/route/v150_msos -> start."),msos.console.time("route"),function(e,t){"use strict";function n(){function n(t,n){return e.extend(Object.create(t),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},o=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var a="?"===r?r:null,s="*"===r?r:null;return o.push({name:n,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(s?"(.+?)":"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var o={},a="ng/route - $RouteProvider";this.caseInsensitiveMatch=!1,this.when=function(n,s){var c,i=" - when -> ",l=e.copy(s);return u&&t.console.debug(a+i+"start, path: "+(n||"na")+", rCopy:",l),_.isUndefined(l.reloadOnSearch)&&(l.reloadOnSearch=!0),_.isUndefined(l.caseInsensitiveMatch)&&(l.caseInsensitiveMatch=this.caseInsensitiveMatch),o[n]=e.extend(l,n&&r(n,l)),n&&(c="/"===n[n.length-1]?n.substr(0,n.length-1):n+"/",o[c]=e.extend({redirectTo:n},r(c,l))),u&&t.console.debug(a+i+"done, redirectPath: "+(c||"na")),this},this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,s,u,i,l,d,h){function $(t,n){var r=[];return e.forEach((t||"").split(":"),function(e,t){var o,a;0===t?r.push(e):(o=e.match(/(\w+)(?:[?*])?(.*)/),a=o[1],r.push(n[a]),r.push(o[2]||""),delete n[a])}),r.join("")}function p(e,t){var n,r,o,a=t.keys,s={},c=0;if(!t.regexp)return null;if(n=t.regexp.exec(e),!n)return null;for(c=1;c<n.length;c+=1)r=a[c-1],o=n[c],r&&o&&(s[r.name]=o);return s}function g(){var t,r;return e.forEach(o,function(o){r||(t=p(s.path(),o),t&&(r=n(o,{params:e.extend({},s.search(),t),pathParams:t}),r.$$route=o))}),r||o[null]&&n(o[null],{params:{},pathParams:{}})}function m(n){var o=" - $get - prepareRoute -> ",s=C.current;t.console.debug(a+o+"start."),v=g(),b=v&&s&&v.$$route===s.$$route&&e.equals(v.pathParams,s.pathParams)&&!v.reloadOnSearch&&!w,b||!s&&!v||r.$broadcast("$routeChangeStart",v,s).defaultPrevented&&n&&n.preventDefault(),t.console.debug(a+o+"done!")}function f(){var n=" - $get - commitRoute -> ",o=C.current,c=v;t.console.debug(a+n+"start."),b?(o.params=c.params,e.copy(o.params,u),r.$broadcast("$routeUpdate",o)):(c||o)&&(w=!1,C.current=c,c&&c.redirectTo&&(e.isString(c.redirectTo)?s.path($(c.redirectTo,c.params)).search(c.params).replace():s.url(c.redirectTo(c.pathParams,s.path(),s.search())).replace()),i.when(i.defer("ng_route_when_commitRoute"),c).then(function(){if(c){var t,n,r=e.extend({},c.resolve);return e.forEach(r,function(t,n){r[n]=e.isString(t)?l.get(t):l.invoke(t,null,null,n)}),t=c.template,e.isDefined(t)?_.isFunction(t)&&(t=t(c.params)):(n=c.templateUrl,e.isDefined(n)&&(_.isFunction(n)&&(n=n(c.params)),e.isDefined(n)&&(c.loadedTemplateUrl=h.valueOf(n),t=d(n)))),e.isDefined(t)&&(r.$template=t),i.all(i.defer("ng_route_all_commitRoute"),r)}return void 0}).then(function(t){c===C.current&&(c&&(c.locals=t,e.copy(c.params,u)),r.$broadcast("$routeChangeSuccess",c,o))},function(e){c===C.current&&r.$broadcast("$routeChangeError",c,o,e)})),t.console.debug(a+n+"done!")}var v,b,w=!1,C={routes:o,reload:function(){w=!0,r.$evalAsync(function(){t.console.debug(a+" - $get - $route - reload -> start."),m(),f(),t.console.debug(a+" - $get - $route - reload -> done!")})},updateParams:function(t){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),s.path($(this.current.$$route.originalPath,t)),s.search(t)}};return r.$on("$locationChangeStart",m),r.$on("$locationChangeSuccess",f),C}]}function r(){this.$get=function(){return{}}}function o(t,n,r){var o="ng/route - ngViewFactory - link";return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,s,c,u,i){function l(){p&&(r.cancel(p),p=null),h&&(h.$destroy(),h=null),$&&(p=r.leave($),p.then(function(){p=null}),$=null)}function d(){var c,u,d,p=t.current&&t.current.locals,f=p&&p.$template;msos.console.debug(o+" - update -> start."),e.isDefined(f)?(c=a.$new(),u=t.current,d=i(c,function(t){r.enter(t,null,$||s).then(function(){!e.isDefined(g)||g&&!a.$eval(g)||n()}),l()}),$=d,h=u.scope=c,h.$emit("$viewContentLoaded"),h.$eval(m)):l(),msos.console.debug(o+" - update ->  done!")}var h,$,p,g=c.autoscroll,m=c.onload||"";msos.console.debug(o+" -> start."),a.$on("$routeChangeSuccess",d),d(),msos.console.debug(o+" -> done.")}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,o){var a,s,c="ng/route - ngViewControllerFactory -> ",u=n.current,i=u.locals;msos.console.debug(c+"start."),o.html(i.$template),a=e(o.contents()),u.controller&&(msos.console.debug(c+"has current controller: "+u.controller),i.$scope=r,s=t(u.controller,i),u.controllerAs&&(r[u.controllerAs]=s),o.data("$ngControllerController",s),o.children().data("$ngControllerController",s)),a(r),msos.console.debug(c+"done!")}}}var s,c=e.$$minErr("ngRoute"),u=!1;"route"===t.config.verbose&&(u=!0),s=e.module("ngRoute",["ng"]).provider("$route",n),s.provider("$routeParams",r),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"],s.directive("ngView",o),s.directive("ngView",a)}(window.angular,window.msos),msos.console.info("ng/route/v150_msos -> done!"),msos.console.timeEnd("route");
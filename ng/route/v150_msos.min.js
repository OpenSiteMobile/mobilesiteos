msos.console.info("ng/route/v150_msos -> start."),msos.console.time("route"),function(e,t){"use strict";function n(){function n(t,n){return e.extend(Object.create(t),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},o=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var a="?"===r?r:null,u="*"===r?r:null;return o.push({name:n,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(u?"(.+?)":"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var o={},a="ng/route - $RouteProvider";this.caseInsensitiveMatch=!1,this.when=function(n,u){var c,s=" - when -> ",l=e.copy(u);return i&&t.console.debug(a+s+"start, path: "+(n||"na")+", rCopy:",l),_.isUndefined(l.reloadOnSearch)&&(l.reloadOnSearch=!0),_.isUndefined(l.caseInsensitiveMatch)&&(l.caseInsensitiveMatch=this.caseInsensitiveMatch),o[n]=e.extend(l,n&&r(n,l)),n&&(c="/"===n[n.length-1]?n.substr(0,n.length-1):n+"/",o[c]=e.extend({redirectTo:n},r(c,l))),i&&t.console.debug(a+s+"done, redirectPath: "+(c||"na")),this},this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,u,c,i,l,d,$){function h(t,n){var r=[];return e.forEach((t||"").split(":"),function(e,t){var o,a;0===t?r.push(e):(o=e.match(/(\w+)(?:[?*])?(.*)/),a=o[1],r.push(n[a]),r.push(o[2]||""),delete n[a])}),r.join("")}function g(e,t){var n,r,o,a=t.keys,u={},c=0;if(!t.regexp)return null;if(n=t.regexp.exec(e),!n)return null;for(c=1;c<n.length;c+=1)r=a[c-1],o=n[c],r&&o&&(u[r.name]=o);return u}function p(){var t,r;return e.forEach(o,function(o){r||(t=g(u.path(),o),t&&(r=n(o,{params:e.extend({},u.$$search,t),pathParams:t}),r.$$route=o))}),r||o[null]&&n(o[null],{params:{},pathParams:{}})}function f(n){var o=" - $get - prepareRoute -> ",u=C.current;t.console.debug(a+o+"start."),v=p(),w=v&&u&&v.$$route===u.$$route&&e.equals(v.pathParams,u.pathParams)&&!v.reloadOnSearch&&!b,w||!u&&!v||r.$broadcast("$routeChangeStart",v,u).defaultPrevented&&n&&n.preventDefault(),t.console.debug(a+o+"done!")}function m(){var n=" - $get - commitRoute -> ",o=C.current,s=v;t.console.debug(a+n+"start."),w?(o.params=s.params,e.copy(o.params,c),r.$broadcast("$routeUpdate",o)):(s||o)&&(b=!1,C.current=s,s&&s.redirectTo&&(e.isString(s.redirectTo)?u.path(h(s.redirectTo,s.params)).search(s.params).replace():u.url(s.redirectTo(s.pathParams,u.path(),u.$$search)).replace()),i.when(i.defer("ng_route_when_commitRoute"),s).then(function(){if(s){var r,o,u=e.extend({},s.resolve);return e.forEach(u,function(t,n){u[n]=e.isString(t)?l.get(t):l.invoke(t,null,null,n)}),r=s.template,e.isDefined(r)?_.isFunction(r)&&(r=r(s.params)):(o=s.templateUrl,e.isDefined(o)&&(_.isFunction(o)&&(o=o(s.params)),e.isDefined(o)&&(s.loadedTemplateUrl=$.valueOf(o),r=d(o)))),e.isDefined(r)&&(u.$template=r),t.console.debug(a+n+"returning $q.all"),i.all(i.defer("ng_route_all_commitRoute"),u)}}).then(function(t){s===C.current&&(s&&(s.locals=t,e.copy(s.params,c)),r.$broadcast("$routeChangeSuccess",s,o))},function(e){s===C.current&&r.$broadcast("$routeChangeError",s,o,e)})),t.console.debug(a+n+"done!")}var v,w,b=!1,C={routes:o,reload:function(){b=!0,r.$evalAsync(function(){t.console.debug(a+" - $get - $route - reload -> start."),f(),m(),t.console.debug(a+" - $get - $route - reload -> done!")})},updateParams:function(t){if(!this.current||!this.current.$$route)throw s("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),u.path(h(this.current.$$route.originalPath,t)),u.search(t)}};return r.$on("$locationChangeStart",f),r.$on("$locationChangeSuccess",m),C}]}function r(){this.$get=function(){return{}}}function o(){this.$get=["$timeout",function(e){return function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]}function a(t,n,r){var o="ng/route - ngViewFactory - link";return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,u,c,s,i){function l(){g&&(n.cancel(g),g=null),$&&($.$destroy(),$=null),h&&(g=n.leave(h),g.then(function(){g=null}),h=null)}function d(){var c,s,d,g=t.current&&t.current.locals,m=g&&g.$template;msos.console.debug(o+" - update -> start."),e.isDefined(m)?(c=a.$new(),s=t.current,d=i(c,function(t){n.enter(t,null,h||u).then(function(){!e.isDefined(p)||p&&!a.$eval(p)||r()}),l()}),h=d,$=s.scope=c,$.$emit("$viewContentLoaded"),f&&f!==angular.noop&&$.$eval(f)):l(),msos.console.debug(o+" - update ->  done!")}var $,h,g,p=c.autoscroll,f=c.onload||"";msos.console.debug(o+" -> start."),a.$on("$routeChangeSuccess",d),d(),msos.console.debug(o+" -> done.")}}}function u(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,o){var a,u,c="ng/route - ngViewControllerFactory -> ",s=n.current,i=s.locals;msos.console.debug(c+"start."),o.html(i.$template),a=e(o.contents()),s.controller&&(msos.console.debug(c+"has current controller: "+s.controller),i.$scope=r,u=t(s.controller,i,!0,s),o.data("$ngControllerController",u),o.children().data("$ngControllerController",u)),a(r),msos.console.debug(c+"done!")}}}var c,s=e.$$minErr("ngRoute"),i=!1;"route"===t.config.verbose&&(i=!0),c=e.module("ngRoute",["ng"]).provider("$route",n),c.provider("$routeParams",r),c.provider("$routeViewScroll",o),a.$inject=["$route","$animate","$routeViewScroll"],u.$inject=["$compile","$controller","$route"],c.directive("ngView",a),c.directive("ngView",u)}(window.angular,window.msos),msos.console.info("ng/route/v150_msos -> done!"),msos.console.timeEnd("route");
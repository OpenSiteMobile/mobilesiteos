msos.console.info("ng/route/v139_msos -> start."),msos.console.time("route"),function(e,t){"use strict";function r(){function r(t,r){return e.extend(Object.create(t),r)}function n(e,t){var r=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},o=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,r,n){var a="?"===n?n:null,c="*"===n?n:null;return o.push({name:r,optional:!!a}),t=t||"",(a?"":t)+"(?:"+(a?t:"")+(c?"(.+?)":"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",r?"i":""),n}var o={},a="ng/route - $RouteProvider";this.caseInsensitiveMatch=!1,this.when=function(r,c){var i,s=" - when -> ",l=e.copy(c);return u&&t.console.debug(a+s+"start, path: "+(r||"na")+", rCopy:",l),_.isUndefined(l.reloadOnSearch)&&(l.reloadOnSearch=!0),_.isUndefined(l.caseInsensitiveMatch)&&(l.caseInsensitiveMatch=this.caseInsensitiveMatch),o[r]=e.extend(l,r&&n(r,l)),r&&(i="/"===r[r.length-1]?r.substr(0,r.length-1):r+"/",o[i]=e.extend({redirectTo:r},n(i,l))),u&&t.console.debug(a+s+"done, redirectPath: "+(i||"na")),this},this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,c,u,s,l,d,h){function $(t,r){var n=[];return e.forEach((t||"").split(":"),function(e,t){var o,a;0===t?n.push(e):(o=e.match(/(\w+)(?:[?*])?(.*)/),a=o[1],n.push(r[a]),n.push(o[2]||""),delete r[a])}),n.join("")}function p(e,t){var r,n,o,a=t.keys,c={},i=0;if(!t.regexp)return null;if(r=t.regexp.exec(e),!r)return null;for(i=1;i<r.length;i+=1)n=a[i-1],o=r[i],n&&o&&(c[n.name]=o);return c}function f(){var t,n;return e.forEach(o,function(o){n||(t=p(c.path(),o),t&&(n=r(o,{params:e.extend({},c.search(),t),pathParams:t}),n.$$route=o))}),n||o[null]&&r(o[null],{params:{},pathParams:{}})}function m(r){var o=" - $get - prepareRoute -> ",c=C.current;t.console.debug(a+o+"start."),v=f(),w=v&&c&&v.$$route===c.$$route&&e.equals(v.pathParams,c.pathParams)&&!v.reloadOnSearch&&!b,w||!c&&!v||n.$broadcast("$routeChangeStart",v,c).defaultPrevented&&r&&r.preventDefault(),t.console.debug(a+o+"done!")}function g(){var r=" - $get - commitRoute -> ",o=C.current,i=v;t.console.debug(a+r+"start."),w?(o.params=i.params,e.copy(o.params,u),n.$broadcast("$routeUpdate",o)):(i||o)&&(b=!1,C.current=i,i&&i.redirectTo&&(e.isString(i.redirectTo)?c.path($(i.redirectTo,i.params)).search(i.params).replace():c.url(i.redirectTo(i.pathParams,c.path(),c.search())).replace()),s.when(s.defer("ng_route_when_commitRoute"),i).then(function(){if(i){var t,r,n=e.extend({},i.resolve);return e.forEach(n,function(t,r){n[r]=e.isString(t)?l.get(t):l.invoke(t,null,null,r)}),t=i.template,e.isDefined(t)?_.isFunction(t)&&(t=t(i.params)):(r=i.templateUrl,e.isDefined(r)&&(_.isFunction(r)&&(r=r(i.params)),r=h.getTrustedResourceUrl(r),e.isDefined(r)&&(i.loadedTemplateUrl=r,t=d(r)))),e.isDefined(t)&&(n.$template=t),s.all(s.defer("all_commitRoute"),n)}return void 0}).then(function(t){i===C.current&&(i&&(i.locals=t,e.copy(i.params,u)),n.$broadcast("$routeChangeSuccess",i,o))},function(e){i===C.current&&n.$broadcast("$routeChangeError",i,o,e)})),t.console.debug(a+r+"done!")}var v,w,b=!1,C={routes:o,reload:function(){b=!0,n.$evalAsync(function(){t.console.debug(a+" - $get - $route - reload -> start."),m(),g(),t.console.debug(a+" - $get - $route - reload -> done!")})},updateParams:function(t){if(!this.current||!this.current.$$route)throw i("norout","Tried updating route when with no current route");var r={},n=this;e.forEach(Object.keys(t),function(e){n.current.pathParams[e]||(r[e]=t[e])}),t=e.extend({},this.current.params,t),c.path($(this.current.$$route.originalPath,t)),c.search(e.extend({},c.search(),r))}};return n.$on("$locationChangeStart",m),n.$on("$locationChangeSuccess",g),C}]}function n(){this.$get=function(){return{}}}function o(t,r,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,a,c,i,u){function s(){$&&(n.cancel($),$=null),d&&(d.$destroy(),d=null),h&&($=n.leave(h),$.then(function(){$=null}),h=null)}function l(){var c,i,l,$=t.current&&t.current.locals,m=$&&$.$template;e.isDefined(m)?(c=o.$new(),i=t.current,l=u(c,function(t){n.enter(t,null,h||a).then(function(){!e.isDefined(p)||p&&!o.$eval(p)||r()}),s()}),h=l,d=i.scope=c,d.$emit("$viewContentLoaded"),d.$eval(f)):s()}var d,h,$,p=c.autoscroll,f=c.onload||"";o.$on("$routeChangeSuccess",l),l()}}}function a(e,t,r){return{restrict:"ECA",priority:-400,link:function(n,o){var a,c,i=r.current,u=i.locals;o.html(u.$template),a=e(o.contents()),i.controller&&(u.$scope=n,c=t(i.controller,u),i.controllerAs&&(n[i.controllerAs]=c),o.data("$ngControllerController",c),o.children().data("$ngControllerController",c)),a(n)}}}var c,i=e.$$minErr("ngRoute"),u=!1;"route"===t.config.verbose&&(u=!0),c=e.module("ngRoute",["ng"]).provider("$route",r),c.provider("$routeParams",n),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"],c.directive("ngView",o),c.directive("ngView",a)}(window.angular,window.msos),msos.console.info("ng/route/v139_msos -> done!"),msos.console.timeEnd("route");
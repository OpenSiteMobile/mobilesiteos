angular.module("ng.bootstrap.ui",["ng.bootstrap.ui.collapse","ng.bootstrap.ui.bindHtml","ng.bootstrap.ui.position","ng.bootstrap.ui.dropdown"]),angular.module("ng.bootstrap.ui.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(n,e,o){function i(){e.removeClass("collapse").addClass("collapsing"),t.addClass(e,"in",{to:{height:e[0].scrollHeight+"px"}}).then(r)}function r(){e.removeClass("collapsing"),e.css({height:"auto"})}function l(){e.css({height:e[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),t.removeClass(e,"in",{to:{height:"0"}}).then(s)}function s(){e.css({height:"0"}),e.removeClass("collapsing"),e.addClass("collapse")}n.$watch(o.collapse,function(t){t?l():i()})}}}]),angular.module("ng.bootstrap.ui.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,n,e){n.addClass("ng-binding").data("$binding",e.bindHtmlUnsafe),t.$watch(e.bindHtmlUnsafe,function(t){n.html(t||"")})}}),angular.module("ng.bootstrap.ui.position",[]).factory("$position",["$document","$window",function(t,n){function e(t,e){return t.currentStyle?t.currentStyle[e]:n.getComputedStyle?n.getComputedStyle(t)[e]:t.style[e]}function o(t){return"static"===(e(t,"position")||"static")}var i=function(n){for(var e=t[0],i=n.offsetParent||e;i&&i!==e&&o(i);)i=i.offsetParent;return i||e};return{position:function(n){var e=this.offset(n),o={top:0,left:0},r=i(n[0]);r!=t[0]&&(o=this.offset(angular.element(r)),o.top+=r.clientTop-r.scrollTop,o.left+=r.clientLeft-r.scrollLeft);var l=n[0].getBoundingClientRect();return{width:l.width||n.prop("offsetWidth"),height:l.height||n.prop("offsetHeight"),top:e.top-o.top,left:e.left-o.left}},offset:function(e){var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:o.top+(n.pageYOffset||t[0].documentElement.scrollTop),left:o.left+(n.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,n,e,o){var i,r,l,s,a=e.split("-"),u=a[0],c=a[1]||"center";i=o?this.offset(t):this.position(t),r=n.prop("offsetWidth"),l=n.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},f={center:function(){return i.top+i.height/2-l/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:f[c](),left:p[u]()};break;case"left":s={top:f[c](),left:i.left-r};break;case"bottom":s={top:f[u](),left:p[c]()};break;default:s={top:i.top-l,left:p[c]()}}return s}}}]),angular.module("ng.bootstrap.ui.dropdown",["ng.bootstrap.ui.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,n){var e=null;this.open=function(n){e||(t.bind("click",o),t.bind("keydown",i)),e&&e!==n&&(e.isOpen=!1),e=n},this.close=function(n){e===n&&(e=null,t.unbind("click",o),t.unbind("keydown",i))};var o=function(t){if(e&&(!t||"disabled"!==e.getAutoClose())){var o=e.getToggleElement();if(!(t&&o&&o[0].contains(t.target))){var i=e.getElement();t&&"outsideClick"===e.getAutoClose()&&i&&i[0].contains(t.target)||(e.isOpen=!1,n.$$phase||e.$apply())}}},i=function(t){27===t.which&&(e.focusToggleElement(),o())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(t,n,e,o,i,r,l,s){var a,u=this,c=t.$new(),p=o.openClass,f=angular.noop,d=n.onToggle?e(n.onToggle):angular.noop,g=!1;this.init=function(o){u.$element=o,n.isOpen&&(a=e(n.isOpen),f=a.assign,t.$watch(a,function(t){c.isOpen=!!t})),g=angular.isDefined(n.dropdownAppendToBody),g&&u.dropdownMenu&&(s.find("body").append(u.dropdownMenu),o.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(t){return c.isOpen=arguments.length?!!t:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return n.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(n,e){if(g&&u.dropdownMenu){var o=l.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:o.top+"px",left:o.left+"px",display:n?"block":"none"})}r[n?"addClass":"removeClass"](u.$element,p),n?(c.focusToggleElement(),i.open(c)):i.close(c),f(t,n),angular.isDefined(n)&&n!==e&&d(t,{open:!!n})}),t.$on("$locationChangeSuccess",function(){c.isOpen=!1}),t.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,n,e,o){o.init(n)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,n,e,o){o&&(o.dropdownMenu=n)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,n,e,o){if(o){o.toggleElement=n;var i=function(i){i.preventDefault(),n.hasClass("disabled")||e.disabled||t.$apply(function(){o.toggle()})};n.bind("click",i),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(o.isOpen,function(t){n.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){n.unbind("click",i)})}}}});
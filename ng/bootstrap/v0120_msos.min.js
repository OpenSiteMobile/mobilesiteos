angular.module("ng.bootstrap.ui",["ng.bootstrap.ui.transition","ng.bootstrap.ui.collapse","ng.bootstrap.ui.bindHtml","ng.bootstrap.ui.position","ng.bootstrap.ui.dropdown"]),angular.module("ng.bootstrap.ui.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,t,o){function e(n){for(var t in n)if(void 0!==r.style[t])return n[t]}var i=function(e,r,a){a=a||{};var s=n.defer("$transition"),l=i[a.animation?"animationEndEventName":"transitionEndEventName"],c=function(){o.$apply(function(){e.unbind(l,c),s.resolve(e)})};return l&&e.bind(l,c),t(function(){angular.isString(r)?e.addClass(r):angular.isFunction(r)?r(e):angular.isObject(r)&&e.css(r),l||s.resolve(e)}),s.promise.cancel=function(){l&&e.unbind(l,c),s.reject("Transition cancelled")},s.promise},r=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=e(a),i.animationEndEventName=e(s),i}]),angular.module("ng.bootstrap.ui.collapse",["ng.bootstrap.ui.transition"]).directive("collapse",["$transition",function(n){return{link:function(t,o,e){function i(t){function e(){c===i&&(c=void 0)}var i=n(o,t);return c&&c.cancel(),c=i,i.then(e,e),i}function r(){u?(u=!1,a()):(o.removeClass("collapse").addClass("collapsing"),i({height:o[0].scrollHeight+"px"}).then(a))}function a(){o.removeClass("collapsing"),o.addClass("collapse in"),o.css({height:"auto"})}function s(){if(u)u=!1,l(),o.css({height:0});else{o.css({height:o[0].scrollHeight+"px"});{o[0].offsetWidth}o.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){o.removeClass("collapsing"),o.addClass("collapse")}var c,u=!0;t.$watch(e.collapse,function(n){n?s():r()})}}}]),angular.module("ng.bootstrap.ui.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(n,t,o){t.addClass("ng-binding").data("$binding",o.bindHtmlUnsafe),n.$watch(o.bindHtmlUnsafe,function(n){t.html(n||"")})}}),angular.module("ng.bootstrap.ui.position",[]).factory("$position",["$document","$window",function(n,t){function o(n,o){return n.currentStyle?n.currentStyle[o]:t.getComputedStyle?t.getComputedStyle(n)[o]:n.style[o]}function e(n){return"static"===(o(n,"position")||"static")}var i=function(t){for(var o=n[0],i=t.offsetParent||o;i&&i!==o&&e(i);)i=i.offsetParent;return i||o};return{position:function(t){var o=this.offset(t),e={top:0,left:0},r=i(t[0]);r!=n[0]&&(e=this.offset(angular.element(r)),e.top+=r.clientTop-r.scrollTop,e.left+=r.clientLeft-r.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:o.top-e.top,left:o.left-e.left}},offset:function(o){var e=o[0].getBoundingClientRect();return{width:e.width||o.prop("offsetWidth"),height:e.height||o.prop("offsetHeight"),top:e.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:e.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,o,e){var i,r,a,s,l=o.split("-"),c=l[0],u=l[1]||"center";i=e?this.offset(n):this.position(n),r=t.prop("offsetWidth"),a=t.prop("offsetHeight");var f={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:f[c]()};break;case"left":s={top:p[u](),left:i.left-r};break;case"bottom":s={top:p[c](),left:f[u]()};break;default:s={top:i.top-a,left:f[u]()}}return s}}}]),angular.module("ng.bootstrap.ui.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(n){var t=null;this.open=function(i){t||(n.bind("click",o),n.bind("keydown",e)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,n.unbind("click",o),n.unbind("keydown",e))};var o=function(n){if(t){var o=t.getToggleElement();n&&o&&o[0].contains(n.target)||t.$apply(function(){t.isOpen=!1})}},e=function(n){27===n.which&&(t.focusToggleElement(),o())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,t,o,e,i,r){var a,s=this,l=n.$new(),c=e.openClass,u=angular.noop,f=t.onToggle?o(t.onToggle):angular.noop;this.init=function(e){s.$element=e,t.isOpen&&(a=o(t.isOpen),u=a.assign,n.$watch(a,function(n){l.isOpen=!!n}))},this.toggle=function(n){return l.isOpen=arguments.length?!!n:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(t,o){r[t?"addClass":"removeClass"](s.$element,c),t?(l.focusToggleElement(),i.open(l)):i.close(l),u(n,t),angular.isDefined(t)&&t!==o&&f(n,{open:!!t})}),n.$on("$locationChangeSuccess",function(){l.isOpen=!1}),n.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,t,o,e){e.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,t,o,e){if(e){e.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||o.disabled||n.$apply(function(){e.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(e.isOpen,function(n){t.attr("aria-expanded",!!n)}),n.$on("$destroy",function(){t.unbind("click",i)})}}}});
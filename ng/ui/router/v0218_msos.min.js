!function(e){"use strict";function t(e,t){var r,n=[];for(r in e.path)if(e.path.hasOwnProperty(r)){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function r(e,r,n,i){var a,o=t(n,i),u={},s=[],l=0,c=0;for(l=0;l<o.length;l+=1)if(o[l]&&o[l].params)for(a=_.keys(o[l].params),c=0;c<a.length;c+=1)_.indexOf(s,a[c])>=0||(s.push(a[c]),u[a[c]]=e[a[c]]);return C({},u,r)}function n(e,t,r){var n,i=0;for(r||(r=_.keys(e)),i=0;i<r.length;i+=1)if(n=r[i],e[n]!=t[n])return!1;return!0}function i(e,t){var r={};return q(e,function(e){r[e]=t[e]}),r}function a(e,t){var r=1,n=2,i={},a=[],o=i,u=C(e.when(e.defer("ng_ui_router_when_$Resolve"),i),{$$promises:i,$$values:i});this.study=function(i){function s(e,o){var u;if(h[o]!==n){if(p.push(o),h[o]===r)throw p.splice(0,_.indexOf(p,o)),new Error("Cyclic dependency: "+p.join(" -> "));h[o]=r,_.isString(e)?f.push(o,[function(){return t.get(e)}],a):(u=t.annotate(e),q(u,function(e){e!==o&&i.hasOwnProperty(e)&&s(i[e],e)}),f.push(o,e,u)),p.pop(),h[o]=n}}function l(e){return A(e)&&e.then&&e.$$promises}if(!A(i))throw new Error("'invocables' must be an object");var c=_.keys(i),f=[],p=[],h={};return q(i,s),i=p=h=null,function(r,n,i){function a(){m-=1,m||(g||R(v,n.$$values),d.$$values=v,d.$$promises=d.$$promises||!0,delete d.$$inheritedValues,h.resolve(v))}function s(e){d.$$failure=e,h.reject(e)}function p(n,o,u){function l(e){f.reject(e),s(e)}function c(){if(!O(d.$$failure))try{f.resolve(t.invoke(o,i,v)),f.promise.then(function(e){v[n]=e,a()},l)}catch(e){l(e)}}var f=e.defer("ng_ui_router_$Resolver_study_invoke"),p=0;q(u,function(e){$.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p+=1,$[e].then(function(t){v[e]=t,p-=1,p||c()},l))}),p||c(),$[n]=f.promise}if(l(r)&&void 0===i&&(i=n,n=r,r=null),r){if(!A(r))throw new Error("'locals' must be an object")}else r=o;if(n){if(!l(n))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else n=u;var h=e.defer("ng_ui_router_$Resolve_study"),d=h.promise,$=d.$$promises={},v=C({},r),m=1+f.length/3,g=!1,y=0;if(O(n.$$failure))return s(n.$$failure),d;for(n.$$inheritedValues&&R(v,_.omit(n.$$inheritedValues,c)),C($,n.$$promises),n.$$values?(g=R(v,_.omit(n.$$values,c)),d.$$inheritedValues=_.omit(n.$$values,c),a()):(n.$$inheritedValues&&(d.$$inheritedValues=_.omit(n.$$inheritedValues,c)),n.then(a,s)),y=0;y<f.length;y+=3)r.hasOwnProperty(f[y])?a():p(f[y],f[y+1],f[y+2]);return d}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function o(e,t,r){this.fromConfig=function(e,t,r){return O(e.template)?this.fromString(e.template,t):O(e.templateUrl)?this.fromUrl(e.templateUrl,t):O(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return _.isFunction(e)?e(t):e},this.fromUrl=function(r,n){return _.isFunction(r)&&(r=r(n)),r?e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):(msos.console.warn("ng/ui/router - $TemplateFactory.fromUrl -> no url passed in."),null)},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function u(e,t,r){function n(t,r,n,i){if(y.push(t),m[t])return m[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new k.Param(t,r,n,i),g[t]}function i(e,t,r,n){var i=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(r){case!1:i=["(",")"+(n?"?":"")];break;case!0:a=a.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+r+"|",")?"]}return a+i[0]+t+i[1]}function a(r,n){var i,a,o,u,s;return i=r[2]||r[3],s=t.params[i],o=e.substring($,r.index),a=n?r[4]:r[4]||("*"===r[1]?".*":null),a&&(u=k.type(a)||V(k.type("string"),{pattern:new RegExp(a,t.caseInsensitive?"i":void 0)})),{id:i,regexp:a,segment:o,type:u,cfg:s}}t=C({params:{}},A(t)?t:{});var o,u,s,l,c,f,p=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",$=0,v=this.segments=[],m=r?r.params:{},g=this.params=r?r.params.$$new():new k.ParamSet,y=[];for(this.source=e;(o=p.exec(e))&&(u=a(o,!1),!(u.segment.indexOf("?")>=0));)s=n(u.id,u.type,u.cfg,"path"),d+=i(u.segment,s.type.pattern.source,s.squash,s.isOptional),v.push(u.segment),$=p.lastIndex;if(l=e.substring($),c=l.indexOf("?"),c>=0){if(f=this.sourceSearch=l.substring(c),l=l.substring(0,c),this.sourcePath=e.substring(0,$+c),f.length>0)for($=0;o=h.exec(f);)u=a(o,!0),s=n(u.id,u.type,u.cfg,"search"),$=p.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=i(l)+(t.strict===!1?"/?":"")+"$",v.push(l),this.regexp=new RegExp(d,t.caseInsensitive?"i":void 0),this.prefix=v[0],this.$$paramNames=y}function s(e){C(this,e)}function l(){function t(e){return null!==e&&void 0!==e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function r(e){return null!==e&&void 0!==e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function n(){return{strict:p,caseInsensitive:f}}function i(e){return _.isFunction(e)||_.isArray(e)&&_.isFunction(e[e.length-1])}function a(){for(var t;v.length;){if(t=v.shift(),t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(d[t.name],c.invoke(t.def))}}function o(e){C(this,e||{})}k=this;var c,f=!1,p=!0,h=!1,d={},$=!0,v=[],m={string:{encode:t,decode:r,is:function(e){return null===e||void 0===e||"string"==typeof e},pattern:/[^/]*/},"int":{encode:t,decode:function(e){return parseInt(e,10)},is:function(e){return O(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};l.$$getDefaultValue=function(e){if(!i(e.value))return e.value;if(!c)throw new Error("Injectable functions cannot be called at configuration time");return c.invoke(e.value)},this.caseInsensitive=function(e){return O(e)&&(f=e),f},this.strictMode=function(e){return O(e)&&(p=e),p},this.defaultSquashPolicy=function(e){if(!O(e))return h;if(e!==!0&&e!==!1&&!_.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return h=e,e},this.compile=function(e,t){return new u(e,C(n(),t))},this.isMatcher=function(e){var t=!0;return A(e)?(q(u.prototype,function(r,n){_.isFunction(r)&&(t=t&&O(e[n])&&_.isFunction(e[n]))}),t):!1},this.type=function(e,t,r){if(!O(t))return d[e];if(d.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return d[e]=new s(C({name:e},t)),r&&(v.push({name:e,def:r}),$||a()),this},q(m,function(e,t){d[t]=new s(C({name:t},e))}),d=V(d,{}),this.$get=["$injector",function(e){return c=e,$=!1,a(),q(m,function(e,t){d[t]||(d[t]=new s(e))}),this}],this.Param=function(e,t,r,n){function a(e){var t=A(e)?_.keys(e):[],r=-1===_.indexOf(t,"value")&&-1===_.indexOf(t,"type")&&-1===_.indexOf(t,"squash")&&-1===_.indexOf(t,"array");return r&&(e={value:e}),e.$$fn=i(e.value)?e.value:function(){return e.value},e}function o(t,r,n){if(t.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:t.type?_.isString(t.type)?d[t.type]:t.type instanceof s?t.type:new s(t.type):"config"===n?d.any:d.string}function u(){var t={array:"search"===n?"auto":!1},i=e.match(/\[\]$/)?{array:!0}:{};return C(t,i,r).array}function l(e,t){var r=e.squash;if(!t||r===!1)return!1;if(void 0===r||null===r)return h;if(r===!0||_.isString(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function f(e,t,r,n){var i,a,o=[{from:"",to:r||t?void 0:""},{from:null,to:r||t?void 0:""}];return i=_.isArray(e.replace)?e.replace:[],_.isString(n)&&i.push({from:n,to:void 0}),a=_.map(i,function(e){return e.from}),_.filter(o,function(e){return-1===_.indexOf(a,e.from)}).concat(i)}function p(){if(!c)throw new Error("Injectable functions cannot be called at configuration time");var e=c.invoke(r.$$fn);if(null!==e&&void 0!==e&&!S.type.is(e))throw new Error("Default value ("+e+") for parameter '"+S.id+"' is not an instance of Type ("+S.type.name+")");return e}function $(e){function t(e){return function(t){return t.from===e}}function r(e){var r=_.map(_.filter(S.replace,t(e)),function(e){return e.to});return r.length?r[0]:e}return e=r(e),O(e)?S.type.$normalize(e):p()}function v(){return"{Param:"+e+" "+t+" squash: '"+y+"' optional: "+g+"}"}var m,g,y,w,S=this;r=a(r),t=o(r,t,n),m=u(),t=m?t.$asArray(m,"search"===n):t,"string"!==t.name||m||"path"!==n||void 0!==r.value||(r.value=""),g=void 0!==r.value,y=l(r,g),w=f(r,m,g,y),C(this,{id:e,type:t,location:n,array:m,squash:y,replace:w,isOptional:g,value:$,dynamic:void 0,config:r,toString:v})},o.prototype={$$new:function(){return V(this,C(new o,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],r=this,n=_.keys(o.prototype);r;)t.push(r),r=r.$$parent;return t.reverse(),q(t,function(t){q(_.keys(t),function(t){-1===_.indexOf(e,t)&&-1===_.indexOf(n,t)&&e.push(t)})}),e},$$values:function(e){var t={},r=this;return q(r.$$keys(),function(n){t[n]=r[n].value(e&&e[n])}),t},$$equals:function(e,t){var r=!0,n=this;return q(n.$$keys(),function(i){var a=e&&e[i],o=t&&t[i];n[i].type.equals(a,o)||(r=!1)}),r},$$validates:function(e){var t,r,n,i,a,o=this.$$keys();for(t=0;t<o.length&&(r=this[o[t]],n=e[o[t]],void 0!==n&&null!==n||!r.isOptional);t+=1){if(i=r.type.$normalize(n),!r.type.is(i))return!1;if(a=r.type.encode(i),_.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:void 0},this.ParamSet=o}function c(t,r){function n(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!==t&&void 0!==t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function a(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return O(n)?n:!0}function o(r,n,i){function a(e,t,r){return"/"===h?e:t?h.slice(0,-1)+e:r?h.slice(1)+e:e}function o(e){function t(e){var t=e(i,r);return t?(_.isString(t)&&(msos.console.debug("ng/ui/router - $UrlRouterProvider - $get - update -> url: "+t),r.replace().url(t)),!0):!1}var n=0;if(!e||!e.defaultPrevented){for(p=void 0,n=0;n<s.length;n+=1)if(t(s[n]))return;l&&t(l)}}function f(){return u=u||n.$on("$locationChangeSuccess",o)}var p,h=e.baseHref,d=r.url();return c||f(),{sync:function(){o()},listen:function(){return f()},update:function(e){return e?void(d=r.url()):void(r.url()!==d&&(r.url(d),r.replace()))},push:function(e,t,n){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),r.url(i),p=n&&n.$$avoidResync?r.url():void 0,n&&n.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var u,s,l,c=t.html5Mode();return e.isObject(c)&&(c=c.enabled),c=c&&Modernizr.history,u=n.format(i),o=o||{},c||null===u||(u="#"+t.hashPrefix()+u),null!==u&&i&&i["#"]&&(u+="#"+i["#"]),u=a(u,c,o.absolute),o.absolute&&u?(s=!c&&u?"/":"",l=r.port(),l=80===l||443===l?"":":"+l,[r.protocol(),"://",r.host(),l,s,u].join("")):u}}}var u,s=[],l=null,c=!1;this.rule=function(e){if(!_.isFunction(e))throw new Error("'rule' must be a function");return s.push(e),this},this.otherwise=function(e){var t;if(_.isString(e))t=e,e=function(){return t};else if(!_.isFunction(e))throw new Error("'rule' must be a function");return l=e,this},this.when=function(e,t){var o,u,s,l=_.isString(t);if(_.isString(e)&&(e=r.compile(e)),!l&&!_.isFunction(t)&&!_.isArray(t))throw new Error("invalid 'handler' in when()");if(u={matcher:function(e,t){return l&&(o=r.compile(t),t=["$match",function(e){return o.format(e)}]),C(function(r,n){return a(r,t,e.exec(n.path(),n.$$search))},{prefix:_.isString(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return l&&(o=t,t=["$match",function(e){return i(o,e)}]),C(function(r,n){return a(r,t,e.exec(n.path()))},{prefix:n(e)})}},s={matcher:r.isMatcher(e),regex:e instanceof RegExp},s.matcher)return this.rule(u.matcher(e,t));if(s.regex)return this.rule(u.regex(e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){void 0===e&&(e=!0),c=e},o.$inject=["$location","$rootScope","$injector"],this.$get=o}function f(t,a){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function u(e,t){if(e){var r,n,i,a,s=_.isString(e),l=s?e:e.name,c=o(l),f=0;if(c){if(!t)throw new Error("No reference point given for path '"+l+"'");for(t=u(t),r=l.split("."),n=r.length,i=t,f=0;n>f;f+=1)if(""===r[f]&&0===f)i=t;else{if("^"!==r[f])break;if(!i.parent)throw new Error("Path '"+l+"' not valid for state '"+t.name+"'");i=i.parent}r=r.slice(f).join("."),l=i.name+(i.name&&r?".":"")+r}return a=m[l],!a||!s&&(s||a!==e&&a.self!==e)?void 0:a}}function s(e,t){g[e]||(g[e]=[]),g[e].push(t)}function l(e){e=V(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var r,i,a,o=e.name;if(!_.isString(o)||o.indexOf("@")>=0)throw new Error("State must have a valid name");if(m.hasOwnProperty(o))throw new Error("State '"+o+"' is already defined");if(r=-1!==o.indexOf(".")?o.substring(0,o.lastIndexOf(".")):_.isString(e.parent)?e.parent:A(e.parent)&&_.isString(e.parent.name)?e.parent.name:"",r&&!m[r])return s(r,e.self);for(i in v)v.hasOwnProperty(i)&&_.isFunction(v[i])&&(e[i]=v[i](e,v.$delegates[i]));for(m[o]=e,!e[y]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,r){$.$current.navigable===e&&n(t,r)||$.transitionTo(e,t,{inherit:!0,location:!1})}]),a=g[o]||[];a.length;)l(a.shift());return e}function c(e){return e.indexOf("*")>-1}function f(e){var t=e.split("."),r=$.$current.name.split("."),n=0;for(n=0;n<t.length;n+=1)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(_.indexOf(r,t[1])),r.unshift("**")),"**"===t[t.length-1]&&(r.splice(_.indexOf(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length!==r.length?!1:r.join("")===t.join("")}function p(e,t,r,n,i,a){function o(e,t,r){function n(t){return"search"!==e.params[t].location}var i=e.params.$$keys().filter(n),a=_.pick.apply({},[e.params].concat(i)),o=new k.ParamSet(a);return o.$$equals(t,r)}return!a.reload&&e===r&&(i===r.locals||e.self.reloadOnSearch===!1&&o(r,n,t))?!0:!1}function h(t,a,o,s,l,h,v){function g(e,r,n,i){var o,u=t.$broadcast("$stateNotFound",e,r,n);return u.defaultPrevented?(v.update(),x):u.retry?i.$retry?(v.update(),E):(o=$.transition=a.when(a.defer("ng_ui_router_when_$StateProvider_study_invoke"),u.retry),o.then(function(){return o!==$.transition?b:(e.options.$retry=!0,$.transitionTo(e.to,e.toParams,e.options))},function(){return x}),v.update(),o):null}function w(t,r,n,u,c,f){function p(){var r=[];return q(t.views,function(n,i){var a=n.resolve&&n.resolve!==t.resolve?n.resolve:{};a.$template=[function(){return o.load(i,{view:n,locals:c.globals,params:d,notify:f.notify})||""}],r.push(l.resolve(a,c.globals,c.resolve,t).then(function(r){if(_.isFunction(n.controllerProvider)||_.isArray(n.controllerProvider)){var o=e.extend({},a,c.globals);r.$$controller=s.invoke(n.controllerProvider,null,o)}else r.$$controller=n.controller;r.$$state=t,r.$$controllerAs=n.controllerAs,c[i]=r}))}),a.all(a.defer("ng_ui_router_all_$StateProvider_$get_resolveViews"),r).then(function(){return c.globals})}var h,d=n?r:i(t.params.$$keys(),r),$={$stateParams:d};return c.resolve=l.resolve(t.resolve,$,c.resolve,t),h=[c.resolve.then(function(e){c.globals=e})],u&&h.push(u),a.all(a.defer("ng_ui_router_all_$StateProvider_$get_resolveState"),h).then(p).then(function(){return c})}var S="ng_ui_router_reject_$StateProvider_$get_",b=a.reject(a.defer(S+"superseded"),new Error("transition superseded")),P=a.reject(a.defer(S+"prevented"),new Error("transition prevented")),x=a.reject(a.defer(S+"aborted"),new Error("transition aborted")),E=a.reject(a.defer(S+"failed"),new Error("transition failed"));return d.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:d.self,$current:d,transition:null},$.reload=function(e){return $.transitionTo($.current,h,{reload:e||!0,inherit:!1,notify:!0})},$.go=function(e,t,r){return $.transitionTo(e,t,C({inherit:!0,relative:$.$current},r))},$.transitionTo=function(e,n,o){n=n||{},o=C({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var l,c,f,m,S,x,j,k,q=$.$current,F=$.params,R=q.path,M=u(e,o.relative),D=n["#"],U=0,N=[];if(!O(M)){if(c={to:e,toParams:n,options:o},f=g(c,q.self,F,o))return f;if(e=c.to,n=c.toParams,o=c.options,M=u(e,o.relative),!O(M)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(M[y])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=r(h,n||{},$.$current,M)),!M.params.$$validates(n))return E;if(n=M.params.$$values(n),e=M,m=e.path,x=m[U],j=d.locals,o.reload){if(_.isString(o.reload)||A(o.reload)){if(A(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");if(k=o.reload===!0?R[0]:u(o.reload),o.reload&&!k)throw new Error("No such reload state '"+(_.isString(o.reload)?o.reload:o.reload.name)+"'");for(;x&&x===R[U]&&x!==k;)j=N[U]=x.locals,U+=1,x=m[U]}}else for(;x&&x===R[U]&&x.ownParams.$$equals(n,F);)j=N[U]=x.locals,U+=1,x=m[U];if(p(e,n,q,F,j,o))return D&&(n["#"]=D),$.params=n,I($.params,h),I(i(e.params.$$keys(),h),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(v.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),v.update(!0)),$.transition=null,a.when(a.defer("ng_ui_router_when_$StateProvider_$get_$state.transitionTo_skip_reload"),$.current);if(n=i(e.params.$$keys(),n||{}),D&&(n["#"]=D),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,q.self,F,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,q.self,F),(null===$.transition||void 0===$.transition)&&v.update(),P;var T,z=a.when(a.defer("ng_ui_router_when_$StateProvider_$get_$state.transitionTo"),j);for(T=U;T<m.length;T+=1,x=m[T])j=N[T]=V(j),z=w(x,n,x===e,z,j,o);return S=$.transition=z.then(function(){var r,i,a;if($.transition!==S)return b;for(r=R.length-1;r>=U;r-=1)a=R[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=U;r<m.length;r+=1)i=m[r],i.locals=N[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return $.transition!==S?b:($.$current=e,$.current=e.self,$.params=n,I($.params,h),$.transition=null,o.location&&e.navigable&&v.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,q.self,F),v.update(!0),$.current)},function(r){return $.transition!==S?b:($.transition=null,l=t.$broadcast("$stateChangeError",e.self,n,q.self,F,r),l.defaultPrevented||v.update(),a.reject(a.defer("ng_ui_router_reject_$StateProvider_$get_$state.transitionTo"),r))})},$.is=function(e,t,r){r=C({relative:$.$current},r||{});var i=u(e,r.relative);if(O(i))return $.$current!==i?!1:t?n(i.params.$$values(t),h):!0},$.includes=function(e,t,r){if(r=C({relative:$.$current},r||{}),_.isString(e)&&c(e)){if(!f(e))return!1;e=$.$current.name}var i=u(e,r.relative);return O(i)?O($.$current.includes[i.name])?t?n(i.params.$$values(t),h,_.keys(t)):!0:!1:void 0},$.href=function(e,t,n){n=C({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},n||{});var a,o=u(e,n.relative);return O(o)?(n.inherit&&(t=r(h,t||{},$.$current,o)),a=o&&n.lossy?o.navigable:o,a&&void 0!==a.url&&null!==a.url?v.href(a.url,i(o.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null):null},$.get=function(e,t){if(0===arguments.length)return _.map(_.keys(m),function(e){return m[e].self});var r=u(e,t||$.$current);return r&&r.self?r.self:null},$}var d,$,v,m={},g={},y="abstract";v={parent:function(e){if(O(e.parent)&&e.parent)return u(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?u(t[1]):d},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=V(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(_.isString(t))return"^"===t.charAt(0)?a.compile(t.substring(1),r):(e.parent.navigable||d).url.concat(t,r);if(!t||a.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new k.ParamSet;return q(e.params||{},function(e,r){t[r]||(t[r]=new k.Param(r,null,e,"config"))}),t},params:function(e){var t=_.pick(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?C(e.parent.params.$$new(),t):new k.ParamSet},views:function(e){var t={};return q(O(e.views)?e.views:{"":e},function(r,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),t[n]=r}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?C({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}},d=l({name:"",url:"^",views:null,"abstract":!0}),d.navigable=null,this.decorator=function(e,t){var r=this;return _.isString(e)&&!O(t)?v[e]:_.isFunction(t)&&_.isString(e)?(v[e]&&!v.$delegates[e]&&(v.$delegates[e]=v[e]),v[e]=t,r):r},this.state=function(e,t){var r=this;return A(e)?t=e:t.name=e,l(t),r},h.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter"],this.$get=h}function p(){function e(e){return{load:function(t,r){var n,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=C(i,r),msos.console.debug("ng/ui/router - $ViewProvider - $get - load -> called for: "+t),r.view&&(n=e.fromConfig(r.view,r.params,r.locals)),n}}}e.$inject=["$templateFactory"],this.$get=e}function h(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]}function d(e,t,r,n){var i=n(t.uiView||t.name||"")(e),a=r.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function $(t,r,n,i){function a(e){function t(e){return!!i.enabled(e)}var r={enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}};return e.noanimation?r:{enter:function(e,n,a){t(e)?i.enter(e,null,n).then(a):r.enter(e,n,a)},leave:function(e,n){t(e)?i.leave(e).then(n):r.leave(e,n)}}}var o={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,o,u){return function(i,o,s){function l(){function e(){t&&t.remove(),r&&r.$destroy()}var t=f,r=h;r&&(r._willBeDestroyed=!0),p?(g.leave(p,function(){e(),f=null}),f=p):(e(),f=null),p=null,h=null}function c(a){var c,f,y=d(i,s,o,n),w=y&&t.$current&&t.$current.locals[y];!a&&w===$||i._willBeDestroyed||(c=i.$new(),$=t.$current.locals[y],c.$emit("$viewContentLoading",y),f=u(c,function(t){g.enter(t,o,function(){h&&h.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||i.$eval(m))&&r(t)}),l()}),p=f,h=c,h.$emit("$viewContentLoaded",y),h.$eval(v))}var f,p,h,$,v=s.onload||"",m=s.autoscroll,g=a(s,i);i.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return o}function v(e,t,r,n){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,o,u){var s,l,c=r.$current,f=d(i,u,o,n),p=c&&c.locals[f];p&&(o.data("$uiView",{name:f,state:p.$$state}),o.html(p.$template||a),s=e(o.contents()),p.$$controller&&(p.$scope=i,p.$element=o,l=t(p.$$controller,p),p.$$controllerAs&&(i[p.$$controllerAs]=l),o.data("$ngControllerController",l),o.children().data("$ngControllerController",l)),s(i))}}}}function m(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function g(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function y(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function w(e,t,r,n,i){return function(a){var o,u,s=a.which||a.button,l=i();s>1||a.ctrlKey||a.metaKey||a.shiftKey||e.attr("target")||(o=r(function(){t.go(l.state,l.params,l.options)}),a.preventDefault(),u=n.isAnchor&&!l.href?1:0,a.preventDefault=function(){0>=u&&r.cancel(o),u-=1})}}function S(e,t){return{relative:g(e)||t.$current,inherit:!0}}function b(t,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,a,o){var u,s=m(a.uiSref,t.current.name),l={state:s.state,href:null,params:null},c=y(i),f=o[1]||o[0];l.options=C(S(i,t),a.uiSrefOpts?n.$eval(a.uiSrefOpts):{}),u=function(r){r&&(l.params=e.copy(r)),l.href=t.href(s.state,l.params,l.options),f&&f.$$addStateInfo(s.state,l.params),null!==l.href&&a.$set(c.attr,l.href)},s.paramExpr&&(n.$watch(s.paramExpr,function(e){e!==l.params&&u(e)},!0),l.params=e.copy(n.$eval(s.paramExpr))),u(),c.clickable&&i.bind("click",w(i,t,r,c,function(){return l}))}}}function P(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,i,a){function o(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),s&&s.$$addStateInfo(f.state,f.params),f.href&&i.$set(u.attr,f.href)}var u=y(n),s=a[1]||a[0],l=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],c="["+l.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null};r.$watch(c,o,!0),o(r.$eval(c)),u.clickable&&n.bind("click",w(n,e,t,u,function(){return f}))}}}function x(e,t){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(r,n,i,a){function o(e,t){a(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function s(t,r){return e.includes(t.name,r)}function l(t,r){return e.is(t.name,r)}function c(){var e=0;for(e=0;e<$.length;e+=1)s($[e].state,$[e].params)?o(n,v[$[e].hash]):u(n,v[$[e].hash]),l($[e].state,$[e].params)?o(n,h):u(n,h)}function f(e,t){if(!_.isString(e))throw new Error("state should be a string");return A(t)?e+F(t):(t=r.$eval(t),A(t)?e+F(t):e)}function p(t,r,i){var a=e.get(t,g(n)),o=f(t,r);$.push({state:a||{name:t},params:r,hash:o}),v[o]=i}var h,d,$=[],v={};h=t(i.uiSrefActiveEq||"",!1)(r);try{d=r.$eval(i.uiSrefActive)}catch(y){}d=d||t(i.uiSrefActive||"",!1)(r),A(d)&&q(d,function(t,n){var i;_.isString(t)&&(i=m(t,e.current.name),p(i.state,r.$eval(i.paramExpr),n))}),this.$$addStateInfo=function(e,t){A(d)&&$.length>0||(p(e,t,d),c())},r.$on("$stateChangeSuccess",c),c()}]}}function E(e){var t=function(t,r){return e.is(t,r)};return t.$stateful=!0,t}function j(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}var k,O=e.isDefined,A=e.isObject,q=e.forEach,C=e.extend,I=e.copy,F=e.toJson,V=e.inherit,R=e.merge;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),a.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",a),o.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",o),u.prototype.concat=function(e,t){var r={caseInsensitive:k.caseInsensitive(),strict:k.strictMode(),squash:k.defaultSquashPolicy()};return new u(this.sourcePath+e+this.sourceSearch,C(r,t),this)},u.prototype.toString=function(){return this.source},u.prototype.exec=function(e,t){function r(e){function t(e){return e.split("").reverse().join("")}function r(e){return e.replace(/\\-/g,"-")}var n=t(e).split(/-(?!\\)/),i=_.map(n,t);return _.map(i,r).reverse()}var n,i,a,o,u,s,l,c,f=this.regexp.exec(e),p={};if(!f)return null;if(t=t||{},n=this.parameters(),i=n.length,a=this.segments.length-1,a!==f.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;a>o;o+=1){for(s=n[o],l=this.params[s],c=f[o+1],u=0;u<l.replace.length;u+=1)l.replace[u].from===c&&(c=l.replace[u].to);c&&l.array===!0&&(c=r(c)),O(c)&&(c=l.type.decode(c)),p[s]=l.value(c)}for(o;i>o;o+=1){for(s=n[o],p[s]=this.params[s].value(t[s]),l=this.params[s],c=t[s],u=0;u<l.replace.length;u+=1)l.replace[u].from===c&&(c=l.replace[u].to);O(c)&&(c=l.type.decode(c)),p[s]=l.value(c)}return p},u.prototype.parameters=function(e){return O(e)?this.params[e]||null:this.$$paramNames},u.prototype.validates=function(e){return this.params.$$validates(e)},u.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r,n,i,a,o,u,s,l,c,f,p,h,d,$,v=this.segments,m=this.parameters(),g=this.params,y=!1;if(!this.validates(e))return null;for(n=v.length-1,i=m.length,a=v[0],r=0;i>r;r+=1)if(o=n>r,u=m[r],s=g[u],l=s.value(e[u]),c=s.isOptional&&s.type.equals(s.value(),l),f=c?s.squash:!1,p=s.type.encode(l),o)h=v[r+1],d=r+1===n,f===!1?(null!==p&&void 0!==p&&(_.isArray(p)&&p.length?a+=_.map(p,t).join("-"):_.isString(p)?a+=encodeURIComponent(p):msos.console.warn("ng/ui/router - UrlMatcher.prototype.format -> na:",p)),a+=h):f===!0?($=a.match(/\/$/)?/\/?(.*)/:/(.*)/,a+=h.match($)[1]):_.isString(f)&&(a+=f+h),d&&s.squash===!0&&"/"===a.slice(-1)&&(a=a.slice(0,-1));else{if(null===p||void 0===p||c&&f!==!1)continue;if(_.isArray(p)||(p=[p]),0===p.length)continue;p=_.map(p,encodeURIComponent).join("&"+u+"="),a+=(y?"&":"?")+(u+"="+p),y=!0}return a},s.prototype.is=function(){return!0},s.prototype.encode=function(e){return e},s.prototype.decode=function(e){return e},s.prototype.equals=function(e,t){return e===t},s.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},s.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function n(e){return _.isArray(e)?e:O(e)?[e]:[]}function i(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function o(e,t){return function(r){var o;return _.isArray(r)&&0===r.length?r:(r=n(r),o=_.map(r,e),t===!0?0===_.filter(o,a).length:i(o))}}function u(e){return function(t,r){var i=n(t),a=n(r),o=0;if(i.length!==a.length)return!1;for(o=0;o<i.length;o+=1)if(!e(i[o],a[o]))return!1;return!0}}this.encode=o(r(e,"encode")),this.decode=o(r(e,"decode")),this.is=o(r(e,"is"),!0),this.$normalize=o(r(e,"$normalize")),this.equals=u(r(e,"equals")),this.pattern=e.pattern,this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},e.module("ui.router.util").provider("$urlMatcherFactory",l),e.module("ui.router.util").run(["$urlMatcherFactory",function(e){msos.console.debug("ng/ui/router - $urlMatcherFactory -> called:",e)}]),c.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",c),f.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",f),p.$inject=[],e.module("ui.router.state").provider("$view",p),e.module("ui.router.state").provider("$uiViewScroll",h),$.$inject=["$state","$uiViewScroll","$interpolate","$animate"],v.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",$),e.module("ui.router.state").directive("uiView",v),
b.$inject=["$state","$timeout"],P.$inject=["$state","$timeout"],x.$inject=["$state","$interpolate"],e.module("ui.router.state").directive("uiSref",b).directive("uiSrefActive",x).directive("uiSrefActiveEq",x).directive("uiState",P),E.$inject=["$state"],j.$inject=["$state"],e.module("ui.router.state").filter("isState",E).filter("includedByState",j)}(window.angular);